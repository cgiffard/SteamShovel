<!DOCTYPE html><html><head><meta charset="utf8"><style type="text/css" media="screen">html {
	font-size: 66.67%;
	font-family: sans-serif;
	tab-size: 4;
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	margin-right: 28vw;
	line-height: 1.6;
}

div.body {
	height: 100vh;
	overflow: hidden;
	overflow-y: scroll;
}

h1 {
	font-size: 4em;
	font-family: "Helvetica Neue", Arial, Helvetica, sans-serif;
	font-weight: 100;
	padding-bottom: 0.4em;
	border-bottom: solid #CCC 1px;
	margin-bottom: 0.4em;
	color: #555;
}

aside {
	position: fixed;
	width: 28vw;
	right: 0px;
	top: 0px;
	background-color: #333;
	height: 100vh;
	box-shadow: rgba(0,0,0,0.5) -1px 0px 0px;
	overflow-y: scroll;
}

aside ul, aside li {
	list-style-type: none;
	padding: 0px;
	margin: 0px;
}

aside li {
	box-shadow: inset rgba(0,0,0,0.5) 1px 0px 0px;
}

aside a {
	display: block;
	line-height: 1.4;
	font-size: 1.2em;
	text-decoration: none;
	border-bottom: solid #222 1px;
	border-top: solid #444 1px;
	border-left: solid 3px black;
	padding: 2.5em;
	padding-top: 1em;
	padding-bottom: 1em;
	overflow: hidden;
	color: #666;
	position: relative;
}

aside a:hover {
	color: white;
	background-color: #363636;
}

aside a {
	text-overflow: break-word;
}

aside a span.coverage {
	background-color: #2e2e2e;
	border-right: solid #3a3a3a 1px;
	color: black;
	display: inline-block;
	font-weight: bold;
	min-width: 2em;
	padding: 0.3em;
	text-align: center;
	padding-top: 1em;
	padding-bottom: 1em;
	position: absolute;
	top: 0px;
	left: 0px;
	height: 100%;
}

aside li.perfect a {
	border-left-color: hsl(125, 100%, 70%);
}

aside li.great a {
	border-left-color: hsl(115, 100%, 70%);
}

aside li.good a {
	border-left-color: hsl(100, 100%, 70%);
}

aside li.average a {
	border-left-color: hsl(80, 100%, 70%);
}

aside li.poor a {
	border-left-color: hsl(60, 100%, 70%);
}

aside li.worse a {
	border-left-color: hsl(40, 100%, 70%);
}

aside li.abysmal a {
	border-left-color: hsl(20, 100%, 70%);
}

aside li.you-should-be-ashamed a {
	border-left-color: hsl(0, 100%, 70%);
}

aside li.perfect span.coverage {
	color: hsl(125, 100%, 70%);
}

aside li.great span.coverage {
	color: hsl(115, 100%, 70%);
}

aside li.good span.coverage {
	color: hsl(100, 100%, 70%);
}

aside li.average span.coverage {
	color: hsl(80, 100%, 70%);
}

aside li.poor span.coverage {
	color: hsl(60, 100%, 70%);
}

aside li.worse span.coverage {
	color: hsl(40, 100%, 70%);
}

aside li.abysmal span.coverage {
	color: hsl(20, 100%, 70%);
}

aside li.you-should-be-ashamed span.coverage {
	color: hsl(0, 100%, 70%);
}


header.docHeader {
	padding: 2em;
}

div.file {
	margin: 1em;
	padding: 1em;
	background-color: #F6F6F6;
}

div.file header {
	border-bottom: dashed #CCC 1px;
}

pre {
	background-color: white;
	font-size: 1.2em;
	font-family: Menlo, Consolas, Monaco, "Lucida Console", monospace;
	padding: 1em;
}

table {
	border-collapse: collapse;
	margin-bottom: 1em;
	margin-top: 1em;
	color: #666;
}

th, td {
	text-align: left;
	min-width: 50px;
	font-size: 1.1em;
	line-height: 1.7em;
	padding-right: 1em;
}

.token {
	-webkit-transition: background-color linear 250ms;
	transition: background-color linear 250ms;
}

li a {
	-webkit-transition: border-color linear 250ms;
	transition: border-color linear 250ms
}

/* Tokens */
.evaluated.perfect > .token, .key-item.perfect {
	background-color: hsl(125, 100%, 70%);
}

.evaluated.great > .token, .key-item.great {
	background-color: hsl(115, 100%, 70%);
}

.evaluated.good > .token, .key-item.good {
	background-color: hsl(100, 100%, 70%);
}

.evaluated.average > .token, .key-item.average {
	background-color: hsl(80, 100%, 70%);
}

.evaluated.poor > .token, .key-item.poor {
	background-color: hsl(60, 100%, 70%);
}

.evaluated.worse > .token, .key-item.worse {
	background-color: hsl(40, 100%, 70%);
}

.evaluated.abysmal > .token, .key-item.abysmal {
	background-color: hsl(20, 100%, 70%);
}

.evaluated.you-should-be-ashamed > .token, .key-item.you-should-be-ashamed {
	background-color: hsl(0, 100%, 70%);
}

.unevaluated, .key-item.unevaluated {
	background-color: #CCC;
	color: red;
	font-weight: bold;
}

.AssignmentExpression > .token, .AssignmentExpression > * > .token {
	border-bottom: solid #AAF 2px;
}

.CallExpression > .token, .CallExpression > * > .token {
	border-bottom: solid #AFA 2px;
}

#guide {
	border: solid #ddd 1px;
	margin: 0px;
	margin-left: -1em;
	margin-right: -1em;
	padding: 1em;
	border-radius: 4px;
	overflow: hidden;
}

#guide h3, #guide p {
	clear: both;
	margin-bottom: 0.5em;
}

#guide p {
	font-size: 1.1em;
}

#guide .key-item {
	display: block;
	padding: 1em;
	float: left;
	box-shadow:	inset rgba(0,0,0,0.2) 0px 1px 0px,
				inset rgba(0,0,0,0.2) -1px -1px 0px;
}</style></head><body><aside class="sidebar"><nav><ul><li data-coverage='6.87' class="file"><a href="#6d186b954a58d5bb740f73d84fe39073"><span class="coverage">6</span><span class="filename">lib/&shy;index.js</span></a></li><li data-coverage='16.02' class="file"><a href="#7744650016d52918f79696c96d468795"><span class="coverage">16</span><span class="filename">lib/&shy;reporter.js</span></a></li><li data-coverage='82.19' class="file"><a href="#c7db2deba541272893290ef6a69a34ee"><span class="coverage">82</span><span class="filename">lib/&shy;instrumentor.js</span></a></li><li data-coverage='0.06' class="file"><a href="#9fd67206eee7d1e1ff188470142cb00f"><span class="coverage">0</span><span class="filename">lib/&shy;instrumentor-config.js</span></a></li><li data-coverage='0.3' class="file"><a href="#350dc2d1484d879c7368edd018106fd4"><span class="coverage">0</span><span class="filename">lib/&shy;stats/&shy;index.js</span></a></li><li data-coverage='63.12' class="file"><a href="#4283e89b3baf979028afccb2c82cfaf3"><span class="coverage">63</span><span class="filename">lib/&shy;stats/&shy;basic.js</span></a></li><li data-coverage='17.14' class="file"><a href="#eec4706ee2dbc9bb8da0c5853f3cf7ad"><span class="coverage">17</span><span class="filename">lib/&shy;stats/&shy;utils.js</span></a></li><li data-coverage='0.15' class="file"><a href="#bdd0ef4c9ff8ae316997d80042bcc53d"><span class="coverage">0</span><span class="filename">lib/&shy;process.js</span></a></li></ul></nav></aside><div class="body"><header class="docHeader"><h1>Coverage Report</h1><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>153.36242</td><td>568</td><td>27%</td></tr><tr><th>conditions</th><td>107.03199</td><td>307</td><td>34.86%</td></tr><tr><th>expressions</th><td>322.73743</td><td>872</td><td>37.01%</td></tr><tr><th>functions</th><td>321.22636</td><td>773</td><td>41.55%</td></tr></tbody></table><div id="guide"><h3>Key</h3><p>SteamShovel uses the stack depth to determine how
directly code was tested. Code which was not tested
directly is not considered highly in the coverage
output.</p></div></header><main><div id="6d186b954a58d5bb740f73d84fe39073" class="file"><header class="fileHeader"><h2>lib/index.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>0.34359</td><td>6</td><td>5.72%</td></tr><tr><th>conditions</th><td>0</td><td>0</td><td>0%</td></tr><tr><th>expressions</th><td>1.03079</td><td>15</td><td>6.87%</td></tr><tr><th>functions</th><td>0</td><td>0</td><td>0%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">//</span><span class="token"> </span><span class="token">Export</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">reporter</span><span class="token"> </span><span class="token">so</span><span class="token"> </span><span class="token">that</span><span class="token"> </span><span class="token">mocha</span><span class="token"> </span><span class="token">can</span><span class="token"> </span><span class="token">require</span><span class="token"> </span><span class="token">it</span><span class="token"> </span><span class="token">directly</span><span class="token"> </span><span class="token">by</span><span class="token"> </span><span class="token">name</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="0"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="46304"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="42416"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./reporter&quot;);</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">Return</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">components</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="AssignmentExpression"
	data-rss="36864"
	data-heapused="35648"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.instrument</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="Identifier"
	data-rss="0"
	data-heapused="35560"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="CallExpression"
	data-rss="28672"
	data-heapused="35592"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor&quot;);</span></span><span class="token"></span></span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="AssignmentExpression"
	data-rss="823296"
	data-heapused="-2678720"
data-heaptotal="1031936"><span class="token">module.exports.process</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="35560"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="35560"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./process&quot;);</span></span><span class="token"></span></span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="36384"
data-heaptotal="0"><span class="token">module.exports.reporter</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="Identifier"
	data-rss="0"
	data-heapused="35560"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="35592"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./reporter&quot;);</span></span><span class="token"></span></span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="41392"
data-heaptotal="0"><span class="token">module.exports.recorder</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="Identifier"
	data-rss="0"
	data-heapused="35560"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth29"
	data-score="0.068719476736"
	data-depth="29"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="42376"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor-record&quot;);</span></span><span class="token"></span></span></pre></div><div id="7744650016d52918f79696c96d468795" class="file"><header class="fileHeader"><h2>lib/reporter.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>6.11529</td><td>70</td><td>8.73%</td></tr><tr><th>conditions</th><td>10</td><td>55</td><td>18.18%</td></tr><tr><th>expressions</th><td>19.23058</td><td>120</td><td>16.02%</td></tr><tr><th>functions</th><td>19.01441</td><td>105</td><td>18.1%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="978944"
	data-heapused="-1693704"
data-heaptotal="4194304"><span class="token">e</span><span class="token">xports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="12288"
	data-heapused="77048"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="50136"
data-heaptotal="0"><span class="token">S</span><span class="token">teamShovel;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">var</span><span class="token"> </span><span class="token">instrument</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="0"
	data-heapused="44424"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="44800"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">stats</span><span class="whitespace">			</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="45056"
	data-heapused="44488"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="40960"
	data-heapused="48552"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./stats&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">columnify</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="40960"
	data-heapused="44904"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="45056"
	data-heapused="44424"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;columnify&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">fs</span><span class="whitespace">				</span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="139264"
	data-heapused="140224"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="45056"
	data-heapused="44424"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;fs&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">path</span><span class="whitespace">			</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="40960"
	data-heapused="44424"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="49152"
	data-heapused="44584"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;path&quot;);</span></span><span class="token">
</span><span class="token">
</span><span class="token">function</span><span class="token"> </span><span class="token">stripBOM(content)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Remove</span><span class="token"> </span><span class="token">byte</span><span class="token"> </span><span class="token">order</span><span class="token"> </span><span class="token">marker.</span><span class="token"> </span><span class="token">This</span><span class="token"> </span><span class="token">catches</span><span class="token"> </span><span class="token">EF</span><span class="token"> </span><span class="token">BB</span><span class="token"> </span><span class="token">BF</span><span class="token"> </span><span class="token">(the</span><span class="token"> </span><span class="token">UTF-8</span><span class="token"> </span><span class="token">BOM)</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">because</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">buffer-to-string</span><span class="token"> </span><span class="token">conversion</span><span class="token"> </span><span class="token">in</span><span class="token"> </span><span class="token">`fs.readFileSync()`</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">translates</span><span class="token"> </span><span class="token">it</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">FEFF,</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">UTF-16</span><span class="token"> </span><span class="token">BOM.</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="431.1578947368421"
	data-heapused="77019.36842105263"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="CallExpression"
	data-rss="19078.73684210526"
	data-heapused="-80139.15789473684"
data-heaptotal="13578.105263157893"><span class="token">content.charCodeAt(0)</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="token"> </span><span class="token">0xFEFF)</span></span><span class="token"> {</span><span class="whitespace">
		</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ontent</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ontent.slice(1);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">}</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="7545.263157894735"
	data-heapused="31162.42105263158"
data-heaptotal="0"><span class="token">c</span><span class="token">ontent;</span></span><span class="token">
}</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="45056"
	data-heapused="44576"
data-heaptotal="0"><span class="token">g</span><span class="token">lobal.__steamshovel</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">true;</span></span><span class="token">
</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">Override</span><span class="token"> </span><span class="token">require</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">perform</span><span class="token"> </span><span class="token">auto-instrumentation!</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="45056"
	data-heapused="44384"
data-heaptotal="0"><span class="token">r</span><span class="token">equire.extensions[&quot;.js&quot;]</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="FunctionExpression"
	data-rss="40960"
	data-heapused="44392"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(module,</span><span class="token"> </span><span class="token">filename)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">dir</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="38373.05263157896"
	data-heapused="27720.631578947337"
data-heaptotal="40576"><span class="token">_</span><span class="token">_dirname.replace(/lib\-cov$/ig,</span><span class="token"> </span><span class="token">&quot;lib&quot;),</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">content</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="431.1578947368421"
	data-heapused="68384.84210526316"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="646.7368421052631"
	data-heapused="68973.26315789475"
data-heaptotal="0"><span class="token">s</span><span class="token">tripBOM(</span></span><span class="token"></span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="5605.052631578946"
	data-heapused="-128129.57894736847"
data-heaptotal="0"><span class="token">fs.readFileSync(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="-56212.21052631579"
	data-heapused="-136696.94736842107"
data-heaptotal="-54154.10526315789"><span class="token">filename,</span></span><span class="token"> 'utf8'))</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Only</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">where</span><span class="token"> </span><span class="token">asked.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Don't</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">any</span><span class="token"> </span><span class="token">previously</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">code.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Don't</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">marked</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">'ignore'.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Don't</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">files</span><span class="token"> </span><span class="token">in</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">node_modules</span><span class="token"> </span><span class="token">directory.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Don't</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumentor.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Don't</span><span class="token"> </span><span class="token">auto-instrument</span><span class="token"> </span><span class="token">our</span><span class="token"> </span><span class="token">tests.</span><span class="whitespace">

	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="431.1578947368421"
	data-heapused="68188.10526315788"
data-heaptotal="0"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="485.05263157894734"
	data-heapused="68256.21052631577"
data-heaptotal="0"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="29803.789473684214"
	data-heapused="-90430.10526315794"
data-heaptotal="40734.31578947368"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="485.05263157894734"
	data-heapused="68247.3684210526"
data-heaptotal="0"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="323.36842105263156"
	data-heapused="68191.47368421052"
data-heaptotal="0"><span class="token"></span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="215.57894736842104"
	data-heapused="68437.26315789472"
data-heaptotal="0"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="LogicalExpression"
	data-rss="377.2631578947368"
	data-heapused="68200.94736842104"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="3772.6315789473683"
	data-heapused="-92080.00000000003"
data-heaptotal="0"><span class="token">process.env.AUTO_INSTRUMENT</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="token"> </span><span class="token">&quot;true&quot;</span><span class="token"> </span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ontent.indexOf(&quot;__instrumentor_map__&quot;)</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ontent.indexOf(</span><span
	class="item BinaryExpression
	unevaluated"><span class="token">&quot;steamShovel:&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span class="token">&quot;ignore&quot;)</span></span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token">&amp;&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ilename.indexOf(&quot;node_modules&quot;)</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ilename.indexOf(&quot;test&quot;)</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ilename.indexOf(</span><span
	class="item Identifier
	unevaluated"><span class="token">dir)</span></span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token">&amp;&amp;</span><span class="whitespace">
		</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ilename.indexOf(</span><span
	class="item CallExpression
	unevaluated"><span class="token">path.normalize(</span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">dir</span><span class="token"> </span></span><span class="token">+ </span><span class="token">&quot;/../test&quot;)</span></span><span class="token">)</span></span><span class="token">)</span></span><span class="token"></span></span><span class="token"></span></span><span class="token"></span></span><span class="token"> {</span><span class="whitespace">

		</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.warn(&quot;Overriding</span><span class="token"> </span><span class="token">require</span><span class="token"> </span><span class="token">%s&quot;,</span><span
	class="item Identifier
	unevaluated"><span class="token">filename)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ontent</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">i</span><span class="token">nstrument(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">content,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">filename)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">}</span><span class="whitespace">

	</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="323.36842105263156"
	data-heapused="-120193.05263157896"
data-heaptotal="0"><span class="token">m</span><span class="token">odule._compile(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="431.1578947368421"
	data-heapused="68176.31578947368"
data-heaptotal="0"><span class="token">content,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="323.36842105263156"
	data-heapused="68168.94736842104"
data-heaptotal="0"><span class="token">filename)</span></span><span class="token">;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">function</span><span class="token"> </span><span class="token">SteamShovel(runner)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.log(&quot;Steam</span><span class="token"> </span><span class="token">Shovel&quot;);</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">failures</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ArrayExpression
	unevaluated"><span class="token">[</span><span class="token">];</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">r</span><span class="token">unner.suite.beforeAll(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function()</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.log(&quot;Commencing</span><span class="token"> </span><span class="token">coverage</span><span class="token"> </span><span class="token">test!&quot;);</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">r</span><span class="token">unner.on('pass',</span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">f</span><span class="token">unction(test){</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">p</span><span class="token">rocess.stdout.write(&quot;.&quot;);</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">r</span><span class="token">unner.on('fail',</span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">f</span><span class="token">unction(test,</span><span class="token"> </span><span class="token">err){</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">p</span><span class="token">rocess.stdout.write(&quot;x&quot;);</span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ailures.push(</span><span
	class="item ArrayExpression
	unevaluated"><span class="token">[</span><span
	class="item Identifier
	unevaluated"><span class="token">test,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">err]</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">r</span><span class="token">unner.on('end',</span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">f</span><span class="token">unction(done){</span><span class="whitespace">

		</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.log(&quot;\n\n&quot;);</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item MemberExpression
	unevaluated"><span class="token">failures.length)</span></span><span class="token"> {</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.error(&quot;Test</span><span class="token"> </span><span class="token">failures</span><span class="token"> </span><span class="token">occurred</span><span class="token"> </span><span class="token">while</span><span class="token"> </span><span class="token">processing!&quot;);</span></span><span class="token">
</span><span class="whitespace">
			</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">ailures.forEach(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(failure)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">var</span><span class="token"> </span><span class="token">test</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">f</span><span class="token">ailure[0],</span></span><span class="token"> err</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">f</span><span class="token">ailure[1];</span></span><span class="token">
</span><span class="whitespace">
				</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.error(&quot;•</span><span class="token"> </span><span class="token">%s\n\t%s\n%s\n\n&quot;,</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">t</span><span class="token">est.title,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">err,</span></span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">err.stack)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">}</span><span class="whitespace">

		</span><span class="token">var</span><span class="token"> </span><span class="token">coverageData</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">g</span><span class="token">lobal.__instrumentor_map__</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="token">{</span><span class="token">},</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">basicStats</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">s</span><span class="token">tats.basic(</span><span
	class="item Identifier
	unevaluated"><span class="token">coverageData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">arrayTransformedStats</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	unevaluated"><span class="token">basicStats)</span></span><span class="token">.map(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="whitespace">{
					</span><span class="token">&quot;kind&quot;:</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">k</span><span class="token">ey,</span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">&quot;covered&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">b</span><span class="token">asicStats[key].covered,</span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">&quot;total&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">b</span><span class="token">asicStats[key].total,</span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">&quot;percentage&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">b</span><span class="token">asicStats[key].percentage</span><span class="token">
</span></span><span class="whitespace">				</span><span class="token">};</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">var</span><span class="token"> </span><span class="token">outputTable</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">c</span><span class="token">olumnify(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">arrayTransformedStats,</span></span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="token">{</span><span class="whitespace">
			</span><span class="token">columnSplitter:</span><span class="token"> </span><span class="token">&quot;</span><span class="token"> </span><span class="token">|</span><span class="token"> </span><span class="token">&quot;</span><span class="whitespace">
		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.log(</span><span
	class="item Identifier
	unevaluated"><span class="token">outputTable)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./outputs/html&quot;)(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">coverageData,</span></span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(result)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">onsole.log(&quot;\nReport</span><span class="token"> </span><span class="token">written</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">disk.\n&quot;);</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="token">
</span><span class="token">}</span></pre></div><div id="c7db2deba541272893290ef6a69a34ee" class="file"><header class="fileHeader"><h2>lib/instrumentor.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>69.76729</td><td>130</td><td>53.66%</td></tr><tr><th>conditions</th><td>82.03199</td><td>96</td><td>85.44%</td></tr><tr><th>expressions</th><td>165.21244</td><td>201</td><td>82.19%</td></tr><tr><th>functions</th><td>165.16408</td><td>185</td><td>89.27%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">crypto</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="0"
	data-heapused="52160"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="CallExpression"
	data-rss="249856"
	data-heapused="709216"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;crypto&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">esprima</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="58976"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="CallExpression"
	data-rss="24576"
	data-heapused="76416"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;esprima&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">escodegen</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="0"
	data-heapused="52168"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="148896"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;escodegen&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">estraverse</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="151768"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="52168"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;estraverse&quot;),</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Maps</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">instrumenting</span><span class="whitespace">
	</span><span class="token">noReplaceMap</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="0"
	data-heapused="52168"
data-heaptotal="0"><span class="token"></span><span
	class="item MemberExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="MemberExpression"
	data-rss="16384"
	data-heapused="163424"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor-config&quot;).noReplaceMap,</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">allowedReplacements</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="MemberExpression"
	data-rss="49152"
	data-heapused="52464"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="53248"
	data-heapused="52168"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor-config&quot;).allowedReplacements;</span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Instrument</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">string</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">JS</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">using</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">SteamShovel</span><span class="token"> </span><span class="token">instrumentor.</span><span class="whitespace">
	</span><span class="token">This</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">executes</span><span class="token"> </span><span class="token">synchronously.</span><span class="whitespace">

	</span><span class="token">data</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">raw</span><span class="token"> </span><span class="token">JavaScript</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">instrument</span><span class="whitespace">
	</span><span class="token">filename</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filename</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">in</span><span class="token"> </span><span class="token">question,</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">inclusion</span><span class="token"> </span><span class="token">in</span><span class="whitespace">
						</span><span class="token">the</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">map</span><span class="whitespace">
	</span><span class="token">incorporateMap</span><span class="whitespace">	</span><span class="token">-</span><span class="whitespace">	</span><span class="token">Whether</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">include</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">map</span><span class="token"> </span><span class="token">(defaults</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">true,</span><span class="token"> </span><span class="token">but</span><span class="token"> </span><span class="token">useful</span><span class="whitespace">
						</span><span class="token">for</span><span class="token"> </span><span class="token">testing</span><span class="token"> </span><span class="token">output</span><span class="token"> </span><span class="token">without</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">additional</span><span class="token"> </span><span class="token">noise</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="whitespace">
						</span><span class="token">map.)</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">string</span><span class="token"> </span><span class="token">containing</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">code.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">code</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">instrumentCode(&quot;function(a)</span><span class="token"> </span><span class="token">{</span><span class="token"> </span><span class="token">return</span><span class="token"> </span><span class="token">a;</span><span class="token"> </span><span class="token">}&quot;,</span><span class="token"> </span><span class="token">&quot;myfile.js&quot;);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="AssignmentExpression"
	data-rss="57344"
	data-heapused="59728"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="FunctionExpression"
	data-rss="53248"
	data-heapused="52224"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">instrumentCode(data,</span><span class="token"> </span><span class="token">filename,</span><span class="token"> </span><span class="token">incorporateMap)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span
	class="item AssignmentExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="AssignmentExpression"
	data-rss="22869.333333333332"
	data-heapused="70030"
data-heaptotal="0"><span class="token">f</span><span class="token">ilename</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="2047.9999999999998"
	data-heapused="19681.333333333332"
data-heaptotal="0"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="LogicalExpression"
	data-rss="2389.333333333333"
	data-heapused="19639.333333333336"
data-heaptotal="0"><span class="token">f</span><span class="token">ilename</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span class="token">&quot;implicit-filename&quot;;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span
	class="item AssignmentExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="AssignmentExpression"
	data-rss="1365.3333333333333"
	data-heapused="19660"
data-heaptotal="0"><span class="token">i</span><span class="token">ncorporateMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item BinaryExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="BinaryExpression"
	data-rss="2389.3333333333335"
	data-heapused="19644.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="1365.3333333333333"
	data-heapused="19636.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item ConditionalExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="ConditionalExpression"
	data-rss="2047.9999999999998"
	data-heapused="19634.000000000004"
data-heaptotal="0"><span class="token">i</span><span class="token">ncorporateMap</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="token"> </span><span class="token">false</span><span class="token"> </span></span><span class="token">? </span><span class="token">false</span><span class="token"> </span><span class="token">:</span><span class="token"> </span><span class="token">true;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">ast</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="2047.9999999999998"
	data-heapused="19655.333333333332"
data-heaptotal="0"><span class="token">e</span><span class="token">sprima.parse(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="1706.6666666666665"
	data-heapused="19616"
data-heaptotal="0"><span class="token">data,</span></span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="ObjectExpression"
	data-rss="1024"
	data-heapused="19647.333333333332"
data-heaptotal="0"><span class="token">{loc:</span><span class="token"> </span><span class="token">true,</span><span class="token"> </span><span class="token">range:</span><span class="token"> </span><span class="token">true,</span><span class="token"> </span><span class="token">raw:</span><span class="token"> </span><span class="token">true})</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">filetag</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="104789.33333333333"
	data-heapused="-351133.3333333333"
data-heaptotal="84992"><span class="token">c</span><span class="token">rypto.createHash(&quot;md5&quot;).update(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="682.6666666666666"
	data-heapused="20002"
data-heaptotal="0"><span class="token">filename)</span></span><span class="token">.digest(&quot;hex&quot;),</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">State</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">storage</span><span class="whitespace">
		</span><span class="token">id</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="whitespace">
		</span><span class="token">code</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">null,</span><span class="whitespace">
		</span><span class="token">sourceMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="ObjectExpression"
	data-rss="341.3333333333333"
	data-heapused="19852"
data-heaptotal="0"><span class="token">{</span><span class="token">};</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Process</span><span class="token"> </span><span class="token">AST</span><span class="whitespace">
	</span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="341.3333333333333"
	data-heapused="19644"
data-heaptotal="0"><span class="token">e</span><span class="token">straverse.replace(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="341.3333333333333"
	data-heapused="19642"
data-heaptotal="0"><span class="token">ast,</span></span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="19659.333333333332"
data-heaptotal="0"><span class="token">{</span><span class="whitespace">

		</span><span class="token">//</span><span class="token"> </span><span class="token">Enter</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">where</span><span class="token"> </span><span class="token">we</span><span class="token"> </span><span class="token">mark</span><span class="token"> </span><span class="token">nodes</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">noReplace</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">prevents</span><span class="token"> </span><span class="token">bugs</span><span class="token"> </span><span class="token">around</span><span class="token"> </span><span class="token">weird</span><span class="token"> </span><span class="token">edge</span><span class="token"> </span><span class="token">cases,</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">I'll</span><span class="token"> </span><span class="token">probably</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">discover</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">time</span><span class="token"> </span><span class="token">goes</span><span class="token"> </span><span class="token">on.</span><span class="whitespace">
		</span><span class="token">//</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">We</span><span class="token"> </span><span class="token">also</span><span class="token"> </span><span class="token">record</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">stack</span><span class="token"> </span><span class="token">path</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">provided</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumentor</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">that</span><span class="token"> </span><span class="token">lets</span><span class="token"> </span><span class="token">us</span><span class="token"> </span><span class="token">know</span><span class="token"> </span><span class="token">our</span><span class="token"> </span><span class="token">place</span><span class="token"> </span><span class="token">in</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">when</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">recorder</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">called.</span><span class="whitespace">

		</span><span class="token">enter:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="341.3333333333333"
	data-heapused="19711.999999999996"
data-heaptotal="0"><span class="token">p</span><span class="token">reprocessNode,</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">//</span><span class="token"> </span><span class="token">Leave</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">where</span><span class="token"> </span><span class="token">we</span><span class="token"> </span><span class="token">replace</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">actual</span><span class="token"> </span><span class="token">nodes.</span><span class="whitespace">

		</span><span class="token">leave:</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="FunctionExpression"
	data-rss="682.6666666666666"
	data-heapused="19646.666666666668"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">(node)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="2321.066666666666"
	data-heapused="-124759.5555555556"
data-heaptotal="0"><span class="token">node.noReplace)</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">return;</span><span class="whitespace">

			</span><span class="token">//</span><span class="token"> </span><span class="token">If</span><span class="token"> </span><span class="token">we're</span><span class="token"> </span><span class="token">allowed</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">replace</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">node,</span><span class="whitespace">
			</span><span class="token">//</span><span class="token"> </span><span class="token">replace</span><span class="token"> </span><span class="token">it</span><span class="token"> </span><span class="token">with</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">Sequence</span><span class="token"> </span><span class="token">Expression.</span><span class="whitespace">

			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="UnaryExpression"
	data-rss="3292.86274509804"
	data-heapused="24637.333333333343"
data-heaptotal="0"><span class="token">~</span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="3533.803921568628"
	data-heapused="24399.215686274507"
data-heaptotal="0"><span class="token">allowedReplacements.indexOf(</span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="3533.8039215686285"
	data-heapused="24418.509803921566"
data-heaptotal="0"><span class="token">node.type)</span></span><span class="token">)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
					</span><span
	class="item UpdateExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="UpdateExpression"
	data-rss="3510.8571428571427"
	data-heapused="24532.57142857143"
data-heaptotal="0"><span class="token">i</span><span class="token">d++,</span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="AssignmentExpression"
	data-rss="3510.8571428571427"
	data-heapused="24383.428571428565"
data-heaptotal="0"><span class="token">s</span><span class="token">ourceMap[</span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="3803.4285714285706"
	data-heapused="24387.999999999996"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="3510.8571428571427"
	data-heapused="24365.71428571428"
data-heaptotal="0"><span class="token">&quot;id_&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="3510.8571428571427"
	data-heapused="24546.857142857138"
data-heaptotal="0"><span class="token">f</span><span class="token">iletag</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;_&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="3803.4285714285716"
	data-heapused="24636"
data-heaptotal="0"><span class="token">i</span><span class="token">d]</span></span><span class="token"> =</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="ObjectExpression"
	data-rss="24283.42857142857"
	data-heapused="-758893.142857143"
data-heaptotal="0"><span class="whitespace">{
						</span><span class="token">&quot;loc&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="3510.8571428571427"
	data-heapused="24572"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.loc,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">&quot;range&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="4388.571428571428"
	data-heapused="24526.28571428571"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.range,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">&quot;results&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="ArrayExpression"
	data-rss="4681.142857142856"
	data-heapused="24605.142857142855"
data-heaptotal="0"><span class="token">[</span><span class="token">],</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">&quot;stack&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="5266.285714285714"
	data-heapused="24460"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.stackPath,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="5558.857142857142"
	data-heapused="24493.714285714283"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.type</span><span class="token">
</span></span><span class="whitespace">					</span><span class="token">},</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="5266.285714285714"
	data-heapused="24400.571428571424"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="5266.285714285714"
	data-heapused="25081.714285714286"
data-heaptotal="0"><span class="token">s</span><span class="token">equenceExpression(</span></span><span class="token">
</span><span class="whitespace">						</span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="5558.857142857143"
	data-heapused="24383.428571428565"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="4388.5714285714275"
	data-heapused="24373.71428571428"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="5558.857142857142"
	data-heapused="24358.857142857138"
data-heaptotal="0"><span class="token">&quot;</span><span class="token">id_&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="5558.857142857142"
	data-heapused="24379.428571428565"
data-heaptotal="0"><span class="token">f</span><span class="token">iletag</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;_&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="5558.857142857142"
	data-heapused="24468.571428571428"
data-heaptotal="0"><span class="token">i</span><span class="token">d,</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">						</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="5266.285714285714"
	data-heapused="24439.428571428572"
data-heaptotal="0"><span class="token">n</span><span class="token">ode</span><span class="token">
</span></span><span class="whitespace">					</span><span class="token">))</span></span><span class="token">;</span><span class="whitespace">
		</span><span class="token">}</span><span class="token">
</span></span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="AssignmentExpression"
	data-rss="2389.333333333333"
	data-heapused="19879.333333333332"
data-heaptotal="0"><span class="token">c</span><span class="token">ode</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="2047.9999999999998"
	data-heapused="19655.333333333332"
data-heaptotal="0"><span class="token">e</span><span class="token">scodegen.generate(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="1365.3333333333333"
	data-heapused="19660.666666666664"
data-heaptotal="0"><span class="token">ast)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="11946.666666666666"
	data-heapused="43240"
data-heaptotal="0"><span class="token">incorporateMap)</span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item AssignmentExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="AssignmentExpression"
	data-rss="5461.333333333333"
	data-heapused="19682.666666666664"
data-heaptotal="0"><span class="token">c</span><span class="token">ode</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="9557.333333333334"
	data-heapused="19688"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="19690.666666666664"
data-heaptotal="0"><span class="token">p</span><span class="token">rependInstrumentorMap(</span></span><span class="token"></span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="5461.333333333333"
	data-heapused="19690.666666666664"
data-heaptotal="0"><span class="token">data,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="19658.666666666664"
data-heaptotal="0"><span class="token">filename,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="19690.666666666664"
data-heaptotal="0"><span class="token">code,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="19744"
data-heaptotal="0"><span class="token">sourceMap)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="1706.6666666666665"
	data-heapused="19652"
data-heaptotal="0"><span class="token">c</span><span class="token">ode;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Preprocess</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">node</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">save</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">stack/path</span><span class="token"> </span><span class="token">into</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">node,</span><span class="token"> </span><span class="token">and</span><span class="whitespace">
	</span><span class="token">to</span><span class="token"> </span><span class="token">mark</span><span class="token"> </span><span class="token">whether</span><span class="token"> </span><span class="token">its</span><span class="token"> </span><span class="token">children</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">replaced</span><span class="token"> </span><span class="token">or</span><span class="token"> </span><span class="token">not.</span><span class="whitespace">

	</span><span class="token">data</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">node</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">represented</span><span class="token"> </span><span class="token">by</span><span class="token"> </span><span class="token">Esprima.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="token"> </span><span class="token">null.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">preprocessNode(astNode);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">preprocessNode</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="AssignmentExpression"
	data-rss="49152"
	data-heapused="52504"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.preprocessNode</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
	</span><span
	class="item FunctionExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="FunctionExpression"
	data-rss="53248"
	data-heapused="52296"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">preprocessNode(node)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="UnaryExpression"
	data-rss="2002.488888888889"
	data-heapused="25152.88888888888"
data-heaptotal="0"><span class="token">!</span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="9784.888888888887"
	data-heapused="-218243.37777777787"
data-heaptotal="11465.955555555556"><span class="token">node.stackPath)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item AssignmentExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="AssignmentExpression"
	data-rss="682.6666666666666"
	data-heapused="24553.333333333332"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.stackPath</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="ArrayExpression"
	data-rss="682.6666666666666"
	data-heapused="24332.666666666664"
data-heaptotal="0"><span class="token">[</span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="24393.33333333333"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.type]</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Now</span><span class="token"> </span><span class="token">mark</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">path</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">node.</span><span class="whitespace">
	</span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="2275.5555555555547"
	data-heapused="24477.33333333334"
data-heaptotal="11332.266666666666"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="1820.4444444444448"
	data-heapused="-49985.42222222239"
data-heaptotal="0"><span class="token">node)</span></span><span class="token">.forEach(</span><span
	class="item FunctionExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="FunctionExpression"
	data-rss="1592.8888888888891"
	data-heapused="24626.488888888896"
data-heaptotal="0"><span class="token">function(nodekey)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">var</span><span class="token"> </span><span class="token">prop</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="MemberExpression"
	data-rss="-2110.7315315315336"
	data-heapused="6555.459459459416"
data-heaptotal="-3718.6882882882883"><span class="token">n</span><span class="token">ode[nodekey];</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">function</span><span class="token"> </span><span class="token">saveStack(prop)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">//</span><span class="token"> </span><span class="token">This</span><span class="token"> </span><span class="token">property</span><span class="token"> </span><span class="token">most</span><span class="token"> </span><span class="token">likely</span><span class="token"> </span><span class="token">isn't</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">node.</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="UnaryExpression"
	data-rss="2647.6482694106658"
	data-heapused="-1992.172123480025"
data-heaptotal="15705.56407857811"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="LogicalExpression"
	data-rss="1379.3826005612734"
	data-heapused="16636.430308699615"
data-heaptotal="-954.0729653882133"><span class="token"></span><span
	class="item LogicalExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="LogicalExpression"
	data-rss="1915.809167446213"
	data-heapused="15530.162768942888"
data-heaptotal="0"><span class="token">!</span><span
	class="item Identifier
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="Identifier"
	data-rss="2904.3666978484566"
	data-heapused="-9945.227315248012"
data-heaptotal="9777.811038353602"><span class="token">prop</span><span class="token"> </span></span><span class="token"></span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span
	class="item UnaryExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="UnaryExpression"
	data-rss="1509.9140859140905"
	data-heapused="16408.255744255774"
data-heaptotal="-1018.8851148851148"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="BinaryExpression"
	data-rss="1342.1458541458574"
	data-heapused="3243.948051948054"
data-heaptotal="-1018.8851148851148"><span class="token">t</span><span class="token">ypeof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="Identifier"
	data-rss="1890.4615384615431"
	data-heapused="14603.892107892092"
data-heaptotal="0"><span class="token">p</span><span class="token">rop</span><span class="token"> </span></span><span class="token"></span></span><span class="token">!</span><span class="token">==</span><span class="token"> </span><span class="token">&quot;object&quot;</span><span class="token"> </span></span><span class="token"></span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span
	class="item UnaryExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="UnaryExpression"
	data-rss="1718.3746701846953"
	data-heapused="27452.854881266652"
data-heaptotal="0"><span class="token">!</span><span
	class="item MemberExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="MemberExpression"
	data-rss="1739.9894459102889"
	data-heapused="27444.474934037098"
data-heaptotal="2691.0395778364114"><span class="token">p</span><span class="token">rop.type)</span></span><span class="token"></span></span><span class="token"></span></span><span class="token"> return;</span><span class="whitespace">

			</span><span
	class="item AssignmentExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="AssignmentExpression"
	data-rss="1470.3589743589746"
	data-heapused="28027.384615384606"
data-heaptotal="0"><span class="token">p</span><span class="token">rop.stackPath</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="CallExpression"
	data-rss="1050.2564102564104"
	data-heapused="27901.84615384616"
data-heaptotal="0"><span class="token">n</span><span class="token">ode.stackPath.concat(</span><span
	class="item MemberExpression
	evaluated depth19"
	data-score="0.64"
	data-depth="19"
	data-type="MemberExpression"
	data-rss="1417.846153846154"
	data-heapused="-144342.1538461539"
data-heaptotal="0"><span class="token">prop.type)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">}</span><span class="whitespace">

		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item CallExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="CallExpression"
	data-rss="2118.11171171171"
	data-heapused="-5412.396396396451"
data-heaptotal="0"><span class="token">Array.isArray(</span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="1631.0198198198177"
	data-heapused="3942.284684684929"
data-heaptotal="0"><span class="token">prop)</span></span><span class="token">)</span></span><span class="token">
</span><span class="whitespace">			</span><span
	class="item CallExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="CallExpression"
	data-rss="1941.2322274881517"
	data-heapused="-25531.563981042604"
data-heaptotal="0"><span class="token">p</span><span class="token">rop.forEach(</span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="1688.872037914692"
	data-heapused="26372.28436018963"
data-heaptotal="0"><span class="token">saveStack)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="CallExpression"
	data-rss="1904.0864864864845"
	data-heapused="-35293.189189188684"
data-heaptotal="3697.009009009009"><span class="token"></span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="1726.9621621621598"
	data-heapused="-22041.282882882886"
data-heaptotal="0"><span class="token">s</span><span class="token">aveStack(</span></span><span class="token"></span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="1771.243243243241"
	data-heapused="26377.412612612847"
data-heaptotal="1859.3441441441441"><span class="token">prop)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">nodeRule</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="MemberExpression"
	data-rss="1774.9333333333336"
	data-heapused="24362.933333333363"
data-heaptotal="0"><span class="token">n</span><span class="token">oReplaceMap[node.type];</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="UnaryExpression"
	data-rss="14791.111111111115"
	data-heapused="-36920.53333333343"
data-heaptotal="11465.955555555556"><span class="token">!</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="1865.9555555555557"
	data-heapused="24394.133333333368"
data-heaptotal="0"><span class="token">nodeRule)</span></span><span class="token"></span></span><span class="token"> return;</span><span class="whitespace">

	</span><span class="token">//</span><span class="token"> </span><span class="token">Convert</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">rule</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">an</span><span class="token"> </span><span class="token">array</span><span class="token"> </span><span class="token">so</span><span class="token"> </span><span class="token">we</span><span class="token"> </span><span class="token">can</span><span class="token"> </span><span class="token">handle</span><span class="token"> </span><span class="token">it</span><span class="token"> </span><span class="token">using</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">same</span><span class="token"> </span><span class="token">logic.</span><span class="whitespace">
	</span><span class="token">//</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Strings</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">arrays</span><span class="token"> </span><span class="token">just</span><span class="token"> </span><span class="token">wholesale</span><span class="token"> </span><span class="token">exclude</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">child</span><span class="token"> </span><span class="token">nodes</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">current</span><span class="token"> </span><span class="token">node</span><span class="token"> </span><span class="token">where</span><span class="token"> </span><span class="token">they</span><span class="token"> </span><span class="token">match.</span><span class="whitespace">

	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="930.909090909091"
	data-heapused="24359.99999999999"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="1117.090909090909"
	data-heapused="24342.181818181816"
data-heaptotal="0"><span class="token">nodeRule</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="1303.2727272727273"
	data-heapused="24417.45454545454"
data-heaptotal="0"><span class="token">S</span><span class="token">tring)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">n</span><span class="token">odeRule</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ArrayExpression
	unevaluated"><span class="token">[</span><span
	class="item Identifier
	unevaluated"><span class="token">n</span><span class="token">odeRule]</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="1117.090909090909"
	data-heapused="24364.363636363625"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="1117.090909090909"
	data-heapused="24477.45454545454"
data-heaptotal="0"><span class="token">nodeRule</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="1303.2727272727273"
	data-heapused="24499.272727272717"
data-heaptotal="0"><span class="token">A</span><span class="token">rray)</span></span><span class="token"></span></span><span class="token"> {</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="204.8"
	data-heapused="-647182.0000000003"
data-heaptotal="0"><span class="token">n</span><span class="token">odeRule.forEach(</span><span
	class="item FunctionExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="FunctionExpression"
	data-rss="204.8"
	data-heapused="24350.399999999998"
data-heaptotal="0"><span class="token">function(property)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="UnaryExpression"
	data-rss="1920"
	data-heapused="26640.75"
data-heaptotal="31872"><span class="token">!</span><span
	class="item MemberExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="MemberExpression"
	data-rss="1280"
	data-heapused="26368.75"
data-heaptotal="0"><span class="token">node[property])</span></span><span class="token"></span></span><span class="token"> return;</span><span class="whitespace">

			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item MemberExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="MemberExpression"
	data-rss="1024"
	data-heapused="26323.25"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="BinaryExpression"
	data-rss="13952"
	data-heapused="-315279.5"
data-heaptotal="0"><span class="token">node[property]</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="1280"
	data-heapused="26349.5"
data-heaptotal="0"><span class="token">A</span><span class="token">rray)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="26347.2"
data-heaptotal="0"><span class="token">n</span><span class="token">ode[property].forEach(</span><span
	class="item FunctionExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="26352.000000000004"
data-heaptotal="0"><span class="token">function(item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
					</span><span
	class="item AssignmentExpression
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="28787.200000000004"
data-heaptotal="0"><span class="token">i</span><span class="token">tem.noReplace</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">true;</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
			</span><span
	class="item AssignmentExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="AssignmentExpression"
	data-rss="910.2222222222222"
	data-heapused="26343.4074074074"
data-heaptotal="0"><span class="token">n</span><span class="token">ode[property].noReplace</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">true;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">}</span><span class="whitespace">

	</span><span class="token">//</span><span class="token"> </span><span class="token">Whereas</span><span class="token"> </span><span class="token">this</span><span class="token"> </span><span class="token">more</span><span class="token"> </span><span class="token">verbose</span><span class="token"> </span><span class="token">object</span><span class="token"> </span><span class="token">style</span><span class="token"> </span><span class="token">allows</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">exclusion</span><span class="token"> </span><span class="token">based</span><span class="token"> </span><span class="token">on</span><span class="token"> </span><span class="token">subproperty</span><span class="token"> </span><span class="token">matches.</span><span class="whitespace">

	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="2420.363636363636"
	data-heapused="24341.090909090897"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="83781.81818181819"
	data-heapused="-472893.09090909094"
data-heaptotal="93812.36363636363"><span class="token">nodeRule</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="2606.545454545454"
	data-heapused="24340.727272727258"
data-heaptotal="0"><span class="token">O</span><span class="token">bject)</span></span><span class="token"></span></span><span class="token"> {</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="2606.545454545454"
	data-heapused="24368.363636363636"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="2420.363636363636"
	data-heapused="24378.909090909092"
data-heaptotal="0"><span class="token">nodeRule)</span></span><span class="token">.forEach(</span><span
	class="item FunctionExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="FunctionExpression"
	data-rss="2048"
	data-heapused="24486.181818181823"
data-heaptotal="0"><span class="token">function(property)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="UnaryExpression"
	data-rss="1927.5294117647059"
	data-heapused="26657.647058823535"
data-heaptotal="0"><span class="token">!</span><span
	class="item MemberExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="MemberExpression"
	data-rss="1566.1176470588234"
	data-heapused="26351.29411764705"
data-heaptotal="0"><span class="token">node[property])</span></span><span class="token"></span></span><span class="token"> return;</span><span class="whitespace">

			</span><span class="token">var</span><span class="token"> </span><span class="token">exclude</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
				</span><span
	class="item CallExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="CallExpression"
	data-rss="12288"
	data-heapused="26332"
data-heaptotal="0"><span class="token">O</span><span class="token">bject</span><span class="whitespace">
					</span><span class="token">.keys(</span><span
	class="item MemberExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="MemberExpression"
	data-rss="12288"
	data-heapused="28132"
data-heaptotal="0"><span class="token">nodeRule[property])</span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="FunctionExpression"
	data-rss="12288"
	data-heapused="26772"
data-heaptotal="0"><span class="token">function(prev,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
						</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="UnaryExpression"
	data-rss="14336"
	data-heapused="30036"
data-heaptotal="0"><span class="token">!</span><span
	class="item Identifier
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="Identifier"
	data-rss="14336"
	data-heapused="28980"
data-heaptotal="0"><span class="token">prev)</span></span><span class="token"></span></span><span class="token"> return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">p</span><span class="token">rev;</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
							</span><span
	class="item BinaryExpression
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="BinaryExpression"
	data-rss="14336"
	data-heapused="28948"
data-heaptotal="0"><span class="token"></span><span
	class="item MemberExpression
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="MemberExpression"
	data-rss="14336"
	data-heapused="28932"
data-heaptotal="0"><span class="token">n</span><span class="token">ode[property][cur]</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="whitespace">
								</span><span
	class="item MemberExpression
	evaluated depth20"
	data-score="0.512"
	data-depth="20"
	data-type="MemberExpression"
	data-rss="14336"
	data-heapused="29256"
data-heaptotal="0"><span class="token">n</span><span class="token">odeRule[property][cur])</span></span><span class="token"></span></span><span class="token">;</span><span class="whitespace">
					</span><span class="token">},</span></span><span class="token"> true);</span></span><span class="token">
</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="Identifier"
	data-rss="12288"
	data-heapused="26656"
data-heaptotal="0"><span class="token">exclude)</span></span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth18"
	data-score="0.8"
	data-depth="18"
	data-type="AssignmentExpression"
	data-rss="14336"
	data-heapused="26408"
data-heaptotal="0"><span class="token">node[property].noReplace</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">true;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">}</span><span class="token">
</span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Generates</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">replacement</span><span class="token"> </span><span class="token">SequenceExpression</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">given</span><span class="token"> </span><span class="token">node,</span><span class="whitespace">
	</span><span class="token">which</span><span class="token"> </span><span class="token">includes</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">call</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">an</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">its</span><span class="token"> </span><span class="token">first</span><span class="token"> </span><span class="token">argument.</span><span class="whitespace">

	</span><span class="token">id</span><span class="whitespace">				</span><span class="token">-</span><span class="whitespace">	</span><span class="token">A</span><span class="token"> </span><span class="token">unique</span><span class="token"> </span><span class="token">ID</span><span class="token"> </span><span class="token">string</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">mark</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">call</span><span class="whitespace">
	</span><span class="token">data</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">node</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">represented</span><span class="token"> </span><span class="token">by</span><span class="token"> </span><span class="token">Esprima.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="token"> </span><span class="token">an</span><span class="token"> </span><span class="token">object</span><span class="token"> </span><span class="token">representing</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">replacement</span><span class="token"> </span><span class="token">node.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">sequenceExpression(id,</span><span class="token"> </span><span class="token">astNode);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">sequenceExpression</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="AssignmentExpression"
	data-rss="53248"
	data-heapused="53016"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.sequenceExpression</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
	</span><span
	class="item FunctionExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="FunctionExpression"
	data-rss="49152"
	data-heapused="52264"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">sequenceExpression(id,</span><span class="token"> </span><span class="token">node)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ObjectExpression"
	data-rss="5558.857142857143"
	data-heapused="25944.571428571428"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span class="token">&quot;SequenceExpression&quot;,</span><span class="whitespace">
		</span><span class="token">&quot;expressions&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ArrayExpression"
	data-rss="5558.857142857142"
	data-heapused="25798.285714285706"
data-heaptotal="0"><span class="whitespace">[
			</span><span
	class="item ObjectExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ObjectExpression"
	data-rss="5558.857142857143"
	data-heapused="25818.85714285714"
data-heaptotal="0"><span class="whitespace">{
				</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span class="token">&quot;CallExpression&quot;,</span><span class="whitespace">
				</span><span class="token">&quot;callee&quot;:</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ObjectExpression"
	data-rss="5558.857142857142"
	data-heapused="25847.42857142857"
data-heaptotal="0"><span class="whitespace">{
					</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span class="token">&quot;Identifier&quot;,</span><span class="whitespace">
					</span><span class="token">&quot;name&quot;:</span><span class="token"> </span><span class="token">&quot;instrumentor_record&quot;</span><span class="whitespace">
				</span><span class="token">},</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">&quot;arguments&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ArrayExpression"
	data-rss="5266.285714285714"
	data-heapused="25826.857142857138"
data-heaptotal="0"><span class="whitespace">[
					</span><span
	class="item ObjectExpression
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="ObjectExpression"
	data-rss="5558.857142857143"
	data-heapused="25816.571428571428"
data-heaptotal="0"><span class="whitespace">{
						</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span class="token">&quot;Literal&quot;,</span><span class="whitespace">
						</span><span class="token">&quot;value&quot;:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="Identifier"
	data-rss="5851.428571428572"
	data-heapused="25814.285714285714"
data-heaptotal="0"><span class="token">i</span><span class="token">d</span><span class="token">
</span></span><span class="whitespace">					</span><span class="token">}</span><span class="token">
</span></span><span class="whitespace">				</span><span class="token">]</span><span class="token">
</span></span><span class="whitespace">			</span><span class="token">},</span></span><span class="token">
</span><span class="whitespace">			</span><span
	class="item Identifier
	evaluated depth17"
	data-score="1"
	data-depth="17"
	data-type="Identifier"
	data-rss="6144"
	data-heapused="25774.857142857145"
data-heaptotal="0"><span class="token">n</span><span class="token">ode</span><span class="token">
</span></span><span class="whitespace">		</span><span class="token">]</span><span class="token">
</span></span><span class="whitespace">	</span><span class="token">}</span><span class="token">
</span></span><span class="token">}</span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Given</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">string</span><span class="token"> </span><span class="token">representation</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">JavaScript</span><span class="token"> </span><span class="token">sourcecode,</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">filename,</span><span class="whitespace">
	</span><span class="token">an</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">representing</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">rewritten,</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">code,</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">map</span><span class="token"> </span><span class="token">containing</span><span class="whitespace">
	</span><span class="token">metainformation</span><span class="token"> </span><span class="token">about</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">probes</span><span class="token"> </span><span class="token">themselves,</span><span class="token"> </span><span class="token">this</span><span class="token"> </span><span class="token">function</span><span class="whitespace">
	</span><span class="token">prepends</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">string/source</span><span class="token"> </span><span class="token">representation</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">probes,</span><span class="token"> </span><span class="token">as</span><span class="token"> </span><span class="token">well</span><span class="whitespace">
	</span><span class="token">as</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">sourcecode</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">that</span><span class="token"> </span><span class="token">performs</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumentation</span><span class="token"> </span><span class="token">itself.</span><span class="whitespace">

	</span><span class="token">source</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">original</span><span class="token"> </span><span class="token">sourcecode</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">file.</span><span class="whitespace">
	</span><span class="token">filename</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">A</span><span class="token"> </span><span class="token">unique</span><span class="token"> </span><span class="token">filename</span><span class="token"> </span><span class="token">representing</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">path</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">the</span><span class="whitespace">
						</span><span class="token">uninstrumented</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">on</span><span class="token"> </span><span class="token">disk.</span><span class="whitespace">
	</span><span class="token">code</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">AST</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">generated</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">source</span><span class="whitespace">
	</span><span class="token">sourceMap</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">A</span><span class="token"> </span><span class="token">map</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">information</span><span class="token"> </span><span class="token">about</span><span class="token"> </span><span class="token">each</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">probe</span><span class="token"> </span><span class="token">and</span><span class="whitespace">
						</span><span class="token">containing</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">sourcecode</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">file.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">JavaScript</span><span class="token"> </span><span class="token">sourcecode</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">executed</span><span class="token"> </span><span class="token">or</span><span class="token"> </span><span class="token">written</span><span class="whitespace">
	</span><span class="token">to</span><span class="token"> </span><span class="token">disk.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">prependInstrumentorMap(source,</span><span class="token"> </span><span class="token">filename,</span><span class="token"> </span><span class="token">code,</span><span class="token"> </span><span class="token">sourceMap);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">prependInstrumentorMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="AssignmentExpression"
	data-rss="53248"
	data-heapused="52776"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.prependInstrumentorMap</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
	</span><span
	class="item FunctionExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="FunctionExpression"
	data-rss="53248"
	data-heapused="52200"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">prependInstrumentorMap(source,</span><span class="token"> </span><span class="token">filename,</span><span class="token"> </span><span class="token">code,</span><span class="token"> </span><span class="token">sourceMap)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span class="token">var</span><span class="token"> </span><span class="token">filetag</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="22880"
data-heaptotal="0"><span class="token">c</span><span class="token">rypto.createHash(&quot;md5&quot;).update(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="8192"
	data-heapused="21205.333333333332"
data-heaptotal="0"><span class="token">filename)</span></span><span class="token">.digest(&quot;hex&quot;),</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">sourceObject</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="8191.999999999999"
	data-heapused="21565.333333333332"
data-heaptotal="0"><span class="token">{ </span><span class="token">&quot;source&quot;:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20696"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="20792"
data-heaptotal="0"><span class="token">S</span><span class="token">tring(</span></span><span class="token"></span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20770.666666666664"
data-heaptotal="0"><span class="token">source)</span></span><span class="token">,</span></span><span class="token"> &quot;tag&quot;:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="8192"
	data-heapused="20786.666666666664"
data-heaptotal="0"><span class="token">f</span><span class="token">iletag</span><span class="token"> </span></span><span class="token">}</span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">originalSource</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="20784"
data-heaptotal="0"><span class="token">J</span><span class="token">SON.stringify(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20770.666666666664"
data-heaptotal="0"><span class="token">sourceObject)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">sourceKey</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="21770.666666666664"
data-heaptotal="0"><span class="token">J</span><span class="token">SON.stringify(</span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="8191.999999999999"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token">&quot;source_&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token">f</span><span class="token">ilename)</span></span><span class="token"></span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">initialiser</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="8192"
	data-heapused="20666.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20704"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20712"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20666.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20685.333333333332"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20997.333333333332"
data-heaptotal="0"><span class="token">&quot;</span><span class="token">if</span><span class="token"> </span><span class="token">(typeof</span><span class="token"> </span><span class="token">__instrumentor_map__</span><span class="token"> </span><span class="token">===</span><span class="token"> </span><span class="token">'undefined')</span><span class="token"> </span><span class="token">{&quot;</span><span class="token"> </span><span class="token">+</span><span class="whitespace">
			</span><span class="token">&quot;__instrumentor_map__</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">{};&quot;</span><span class="token"> </span></span><span class="whitespace">+
		</span><span class="token">&quot;}\n&quot;</span><span class="token"> </span></span><span class="whitespace">+
		</span><span class="token">&quot;if</span><span class="token"> </span><span class="token">(!__instrumentor_map__[&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20818.666666666664"
data-heaptotal="0"><span class="token">s</span><span class="token">ourceKey</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;])</span><span class="token"> </span><span class="token">{&quot;</span><span class="token"> </span></span><span class="whitespace">+
			</span><span class="token">&quot;__instrumentor_map__[&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20872"
data-heaptotal="0"><span class="token">s</span><span class="token">ourceKey</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;]</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20786.666666666664"
data-heaptotal="0"><span class="token">o</span><span class="token">riginalSource</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;;&quot;+</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">&quot;}\n&quot;;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="20810.666666666664"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20757.333333333332"
data-heaptotal="0"><span class="token">sourceMap)</span></span><span class="token">.forEach(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="6826.666666666666"
	data-heapused="20917.333333333332"
data-heaptotal="0"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span
	class="item AssignmentExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="AssignmentExpression"
	data-rss="13312"
	data-heapused="23478"
data-heaptotal="0"><span class="token">i</span><span class="token">nitialiser</span><span class="token"> </span><span class="token">+=</span><span class="whitespace">
			</span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="10240"
	data-heapused="21918"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="11264"
	data-heapused="21922"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="11264"
	data-heapused="21918"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="11264"
	data-heapused="21918"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="10240"
	data-heapused="21918"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="11264"
	data-heapused="21942"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="10240"
	data-heapused="21918"
data-heaptotal="0"><span class="token">&quot;</span><span class="token">if</span><span class="token"> </span><span class="token">(!__instrumentor_map__.&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="11264"
	data-heapused="21942"
data-heaptotal="0"><span class="token">k</span><span class="token">ey</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;)</span><span class="token"> </span><span class="token">{&quot;</span><span class="whitespace">	</span></span><span class="whitespace">+
				</span><span class="token">&quot;</span><span class="token"> </span><span class="token">__instrumentor_map__.&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="12288"
	data-heapused="22062"
data-heaptotal="0"><span class="token">k</span><span class="token">ey</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">&quot;</span><span class="whitespace">	</span></span><span class="whitespace">+
							</span><span
	class="item CallExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="CallExpression"
	data-rss="11264"
	data-heapused="22022"
data-heaptotal="0"><span class="token">J</span><span class="token">SON.stringify(</span><span
	class="item MemberExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="MemberExpression"
	data-rss="10240"
	data-heapused="21996"
data-heaptotal="0"><span class="token">sourceMap[key])</span></span><span class="whitespace">	</span></span><span class="token"></span></span><span class="token">+</span><span class="whitespace">
			</span><span class="token">&quot;;}\n&quot;;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="8192"
	data-heapused="25037.333333333332"
data-heaptotal="0"><span class="token">i</span><span class="token">nitialiser</span><span class="token"> </span><span class="token">+=</span><span class="token"> </span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="5461.333333333333"
	data-heapused="20696"
data-heaptotal="0"><span class="token">&quot;</span><span class="token">\n&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="8192"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor-record&quot;).toString()</span><span class="token"> </span></span><span class="token"></span></span><span class="token">+ </span><span class="token">&quot;\n&quot;;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20696"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="BinaryExpression"
	data-rss="10922.666666666666"
	data-heapused="28488"
data-heaptotal="0"><span class="token">i</span><span class="token">nitialiser</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="6826.666666666666"
	data-heapused="20698.666666666664"
data-heaptotal="0"><span class="token">c</span><span class="token">ode;</span></span><span class="token"></span></span><span class="token">
};</span></span><span class="token"></span></span></pre></div><div id="9fd67206eee7d1e1ff188470142cb00f" class="file"><header class="fileHeader"><h2>lib/instrumentor-config.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>0.0095</td><td>38</td><td>0.02%</td></tr><tr><th>conditions</th><td>0</td><td>0</td><td>0%</td></tr><tr><th>expressions</th><td>0.01014</td><td>16</td><td>0.06%</td></tr><tr><th>functions</th><td>0</td><td>0</td><td>0%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">allowedReplacements</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="356352"
	data-heapused="469320"
data-heaptotal="1031936"><span class="whitespace">[
	</span><span class="token">&quot;AssignmentExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ArrayExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ArrayPattern&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ArrowFunctionExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;BinaryExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;CallExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ConditionalExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;FunctionExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;Identifier&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;LogicalExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;MemberExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;NewExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ObjectExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;ObjectPattern&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;UnaryExpression&quot;,</span><span class="whitespace">
	</span><span class="token">&quot;UpdateExpression&quot;</span><span class="token">
</span><span class="token">];</span></span><span class="token">
</span><span class="token">
</span><span class="token">var</span><span class="token"> </span><span class="token">noReplaceMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="60112"
data-heaptotal="0"><span class="whitespace">{

	</span><span class="token">//</span><span class="token"> </span><span class="token">If</span><span class="token"> </span><span class="token">we</span><span class="token"> </span><span class="token">don't</span><span class="token"> </span><span class="token">do</span><span class="token"> </span><span class="token">this,</span><span class="token"> </span><span class="token">our</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">code</span><span class="token"> </span><span class="token">removes</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">context</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">member</span><span class="token"> </span><span class="token">expression</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">calls</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">returns</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">value</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">without</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">context</span><span class="token"> </span><span class="token">required</span><span class="token"> </span><span class="token">by</span><span class="token"> </span><span class="token">some</span><span class="token"> </span><span class="token">'methods'.</span><span class="whitespace">
	</span><span class="token">//</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Without</span><span class="token"> </span><span class="token">this,</span><span class="token"> </span><span class="token">calls</span><span class="token"> </span><span class="token">like</span><span class="token"> </span><span class="token">array.indexOf()</span><span class="token"> </span><span class="token">would</span><span class="token"> </span><span class="token">break.</span><span class="whitespace">
	</span><span class="token">&quot;CallExpression&quot;:</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="60232"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">&quot;callee&quot;:</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="60008"
data-heaptotal="0"><span class="whitespace">{
			</span><span class="token">&quot;type&quot;:</span><span class="token"> </span><span class="token">&quot;MemberExpression&quot;</span><span class="whitespace">
		</span><span class="token">}</span><span class="token">
</span></span><span class="whitespace">	</span><span class="token">},</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">We</span><span class="token"> </span><span class="token">can't</span><span class="token"> </span><span class="token">put</span><span class="token"> </span><span class="token">SequenceExpressions</span><span class="token"> </span><span class="token">on</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">left</span><span class="token"> </span><span class="token">side</span><span class="token"> </span><span class="token">of</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">AssignmentExpressions.</span><span class="whitespace">
	</span><span class="token">//</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">(abc,</span><span class="token"> </span><span class="token">def)</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">value;)</span><span class="whitespace">

	</span><span class="token">&quot;AssignmentExpression&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="0"
	data-heapused="63032"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;left&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">Nor</span><span class="token"> </span><span class="token">can</span><span class="token"> </span><span class="token">we</span><span class="token"> </span><span class="token">replace</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">id</span><span class="token"> </span><span class="token">component</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">VariableDeclarators.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">var</span><span class="token"> </span><span class="token">[id]</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">value)</span><span class="whitespace">

	</span><span class="token">&quot;VariableDeclarator&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="4096"
	data-heapused="60248"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;id&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">components</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">MemberExpressions</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">(instrument,</span><span class="token"> </span><span class="token">abc).(instrument,</span><span class="token"> </span><span class="token">def)</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`abc.def`.)</span><span class="whitespace">

	</span><span class="token">&quot;MemberExpression&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="0"
	data-heapused="60312"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;object&quot;,</span><span class="token"> </span><span class="token">&quot;property&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">id</span><span class="token"> </span><span class="token">component</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">Functions</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">(instrument,</span><span class="token"> </span><span class="token">abc)()</span><span class="token"> </span><span class="token">{}</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`function</span><span class="token"> </span><span class="token">abc()</span><span class="token"> </span><span class="token">{}`.)</span><span class="whitespace">

	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">parameters</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">FunctionExpressions</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">abc((instrument,a))</span><span class="token"> </span><span class="token">{}</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`function</span><span class="token"> </span><span class="token">abc(a)</span><span class="token"> </span><span class="token">{}`.)</span><span class="whitespace">

	</span><span class="token">&quot;FunctionExpression&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="0"
	data-heapused="60200"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;id&quot;,</span><span class="token"> </span><span class="token">&quot;params&quot;],</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">&quot;FunctionDeclaration&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="49152"
	data-heapused="60360"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;id&quot;,</span><span class="token"> </span><span class="token">&quot;params&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">properties</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">Objects</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">{(instrument,a)):</span><span class="token"> </span><span class="token">b}</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`{a:b}`.)</span><span class="whitespace">

	</span><span class="token">&quot;Property&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="61440"
	data-heapused="60200"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;key&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">parameter</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">catch</span><span class="token"> </span><span class="token">clause</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">catch</span><span class="token"> </span><span class="token">(instrument,a)</span><span class="token"> </span><span class="token">{</span><span class="token"> </span><span class="token">...</span><span class="token"> </span><span class="token">}</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`catch</span><span class="token"> </span><span class="token">(a)</span><span class="token"> </span><span class="token">{</span><span class="token"> </span><span class="token">...</span><span class="token"> </span><span class="token">}`.)</span><span class="whitespace">

	</span><span class="token">&quot;CatchClause&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="57344"
	data-heapused="60232"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;param&quot;],</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">The</span><span class="token"> </span><span class="token">argument</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">UpdateExpressions</span><span class="token"> </span><span class="token">should</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">be</span><span class="token"> </span><span class="token">touched.</span><span class="whitespace">
	</span><span class="token">//</span><span class="token"> </span><span class="token">(e.g.</span><span class="token"> </span><span class="token">(instrument,a)++</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">`a++`.)</span><span class="whitespace">

	</span><span class="token">&quot;UpdateExpression&quot;:</span><span class="token"> </span><span
	class="item ArrayExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ArrayExpression"
	data-rss="61440"
	data-heapused="60392"
data-heaptotal="0"><span class="token">[</span><span class="token">&quot;argument&quot;]</span><span class="token">
</span></span><span class="token">}</span><span class="token">;</span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="61440"
	data-heapused="60200"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="ObjectExpression"
	data-rss="61440"
	data-heapused="59920"
data-heaptotal="0"><span class="whitespace">{
	</span><span class="token">noReplaceMap:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="Identifier"
	data-rss="57344"
	data-heapused="60064"
data-heaptotal="0"><span class="token">n</span><span class="token">oReplaceMap,</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">allowedReplacements:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="Identifier"
	data-rss="61440"
	data-heapused="60192"
data-heaptotal="0"><span class="token">a</span><span class="token">llowedReplacements</span><span class="token">
</span></span><span class="token">}</span><span class="token">;</span></span><span class="token"></span></span></pre></div><div id="350dc2d1484d879c7368edd018106fd4" class="file"><header class="fileHeader"><h2>lib/stats/index.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>0.00604</td><td>4</td><td>0.15%</td></tr><tr><th>conditions</th><td>0</td><td>0</td><td>0%</td></tr><tr><th>expressions</th><td>0.01208</td><td>4</td><td>0.3%</td></tr><tr><th>functions</th><td>0</td><td>0</td><td>0%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="AssignmentExpression"
	data-rss="167936"
	data-heapused="138968"
data-heaptotal="1019904"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="ObjectExpression"
	data-rss="53248"
	data-heapused="52152"
data-heaptotal="0"><span class="whitespace">{
	</span><span class="token">&quot;basic&quot;:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="Identifier"
	data-rss="49152"
	data-heapused="52160"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth43"
	data-score="0.0030223145490365726"
	data-depth="43"
	data-type="CallExpression"
	data-rss="53248"
	data-heapused="52248"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./basic&quot;)</span><span class="token">
</span></span><span class="token">}</span><span class="token">;</span></span><span class="token"></span></span></pre></div><div id="4283e89b3baf979028afccb2c82cfaf3" class="file"><header class="fileHeader"><h2>lib/stats/basic.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>61.0038</td><td>117</td><td>52.14%</td></tr><tr><th>conditions</th><td>4</td><td>22</td><td>18.18%</td></tr><tr><th>expressions</th><td>101.0076</td><td>160</td><td>63.12%</td></tr><tr><th>functions</th><td>101.00316</td><td>153</td><td>66.01%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">//</span><span class="token"> </span><span class="token">Basic</span><span class="token"> </span><span class="token">statistics</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">generating</span><span class="token"> </span><span class="token">lines,</span><span class="token"> </span><span class="token">conditions,</span><span class="token"> </span><span class="token">expressions</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">functions</span><span class="token"> </span><span class="token">covered.</span><span class="token">
</span><span class="token">//</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">All</span><span class="token"> </span><span class="token">these</span><span class="token"> </span><span class="token">functions</span><span class="token"> </span><span class="token">return</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">map,</span><span class="token"> </span><span class="token">containing</span><span class="token"> </span><span class="token">three</span><span class="token"> </span><span class="token">values:</span><span class="token">
</span><span class="token">//</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">eg.</span><span class="token">
</span><span class="token">//</span><span class="token"> </span><span class="token">{</span><span class="token"> </span><span class="token">covered:</span><span class="token"> </span><span class="token">15,</span><span class="token"> </span><span class="token">total:</span><span class="token"> </span><span class="token">25,</span><span class="token"> </span><span class="token">percengage:</span><span class="token"> </span><span class="token">0.6</span><span class="token"> </span><span class="token">}</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">util</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="Identifier"
	data-rss="57344"
	data-heapused="59888"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="CallExpression"
	data-rss="659456"
	data-heapused="563600"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./utils&quot;);</span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="61440"
	data-heapused="60056"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="FunctionExpression"
	data-rss="57344"
	data-heapused="59856"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">generateStatistics(inputData,</span><span class="token"> </span><span class="token">key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">self</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="MemberExpression"
	data-rss="12288"
	data-heapused="67712"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="UnaryExpression"
	data-rss="0"
	data-heapused="20056"
data-heaptotal="0"><span class="token">!</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">throw</span><span class="token"> </span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">rror(</span></span><span class="token">&quot;Input</span><span class="token"> </span><span class="token">was</span><span class="token"> </span><span class="token">undefined.&quot;);</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">&quot;lines&quot;:</span><span class="whitespace">		</span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21072"
data-heaptotal="0"><span class="token">s</span><span class="token">elf.lines(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20032"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20032"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">&quot;conditions&quot;:</span><span class="whitespace">	</span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="21512"
data-heaptotal="0"><span class="token">s</span><span class="token">elf.conditions(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">&quot;expressions&quot;:</span><span class="whitespace">	</span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="20712"
data-heaptotal="0"><span class="token">s</span><span class="token">elf.expressions(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20064"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">&quot;functions&quot;:</span><span class="whitespace">	</span><span
	class="item CallExpression
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="20240"
data-heaptotal="0"><span class="token">s</span><span class="token">elf.functions(</span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20032"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth12"
	data-score="1"
	data-depth="12"
	data-type="Identifier"
	data-rss="0"
	data-heapused="20080"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">
</span></span><span class="whitespace">	};</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="57344"
	data-heapused="64808"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.lines</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="FunctionExpression"
	data-rss="57344"
	data-heapused="59856"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(inputData,</span><span class="token"> </span><span class="token">key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">covered</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">total</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="whitespace">
		</span><span class="token">getValue</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="26976"
data-heaptotal="0"><span class="token">u</span><span class="token">til.calculateValue(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21192"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">uniqueLines</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="21264"
data-heaptotal="0"><span class="token">{</span><span class="token">};</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21240"
data-heaptotal="0"><span class="token">t</span><span class="token">otal</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21160"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="21192"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.filter(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21320"
data-heaptotal="0"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="22560"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="23464"
data-heaptotal="0"><span class="token">k</span><span class="token">ey.indexOf(&quot;source_&quot;)</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="token"> </span><span class="token">0;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.filter(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21312"
data-heaptotal="0"><span class="token">function(index)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item Identifier
	unevaluated"><span class="token">key)</span></span><span class="token"></span></span><span class="token"> return</span><span class="token"> </span><span class="token">true;</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">i</span><span class="token">nputData[index].tag</span><span class="token"> </span></span><span class="token">=</span><span class="token">==</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">k</span><span class="token">ey;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21544"
data-heaptotal="0"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">a</span><span class="token">cc</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item CallExpression
	unevaluated"><span class="token">u</span><span class="token">til.sloc(</span><span
	class="item MemberExpression
	unevaluated"><span class="token">inputData[cur].source)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> 0);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21264"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21192"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">.filter(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21240"
data-heaptotal="0"><span class="token">function(index)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="4096"
	data-heapused="23920"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="22608"
data-heaptotal="0"><span class="token">i</span><span class="token">ndex.indexOf(</span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="22608"
data-heaptotal="0"><span class="token">&quot;id_&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span class="token">(</span><span
	class="item LogicalExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="LogicalExpression"
	data-rss="0"
	data-heapused="22640"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="0"
	data-heapused="22640"
data-heaptotal="0"><span class="token">key</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span class="token">&quot;&quot;)</span></span><span class="token">)</span></span><span class="token"> </span></span><span class="token">===</span><span class="token"> </span><span class="token">0;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">.forEach(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21312"
data-heaptotal="0"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">var</span><span class="token"> </span><span class="token">item</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">nputData[key],</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">id</span><span class="whitespace">		</span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">k</span><span class="token">ey.split(&quot;_&quot;)[1],</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">start</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">tem.loc.start.line,</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">results</span><span class="whitespace">	</span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">tem.results;</span></span><span class="token">
</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item MemberExpression
	unevaluated"><span class="token">results.length)</span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">u</span><span class="token">niqueLines[</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">id</span><span class="token"> </span></span><span class="token">+ </span><span class="token">&quot;_&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	unevaluated"><span class="token">s</span><span class="token">tart]</span></span><span class="token"> =</span><span class="whitespace">
					</span><span
	class="item CallExpression
	unevaluated"><span class="token">M</span><span class="token">ath.max(</span><span class="whitespace">
						</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">g</span><span class="token">etValue(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">item)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">						</span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">u</span><span class="token">niqueLines[</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">id</span><span class="token"> </span></span><span class="token">+ </span><span class="token">&quot;_&quot;</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	unevaluated"><span class="token">s</span><span class="token">tart]</span></span><span class="token"> </span></span><span class="token">||</span><span class="token"> </span><span class="token">0)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21264"
data-heaptotal="0"><span class="token">c</span><span class="token">overed</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21160"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="21160"
data-heaptotal="0"><span class="token">uniqueLines)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21192"
data-heaptotal="0"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">a</span><span class="token">cc</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item MemberExpression
	unevaluated"><span class="token">u</span><span class="token">niqueLines[cur];</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> 0);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="21264"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">covered:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21920"
data-heaptotal="0"><span class="token">c</span><span class="token">overed,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">total:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21432"
data-heaptotal="0"><span class="token">t</span><span class="token">otal,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">percentage:</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21488"
data-heaptotal="0"><span class="token">u</span><span class="token">til.percentage(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21192"
data-heaptotal="0"><span class="token">covered,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21192"
data-heaptotal="0"><span class="token">total)</span></span><span class="token">
</span></span><span class="whitespace">	};</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="61440"
	data-heapused="60760"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.conditions</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="FunctionExpression"
	data-rss="65536"
	data-heapused="59856"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(inputData,</span><span class="token"> </span><span class="token">key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">covered</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">total</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="whitespace">
		</span><span class="token">getValue</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="24512"
data-heaptotal="0"><span class="token">u</span><span class="token">til.calculateValue(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">instruments</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
			</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21096"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">.filter(</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21784"
data-heaptotal="0"><span class="token">util.isOfType(</span><span
	class="item ArrayExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ArrayExpression"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">[</span><span class="whitespace">
						</span><span class="token">&quot;IfStatement&quot;,</span><span class="whitespace">
						</span><span class="token">&quot;LogicalExpression&quot;,</span><span class="whitespace">
						</span><span class="token">&quot;ConditionalExpression&quot;,</span><span class="whitespace">
					</span><span class="token">])</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21528"
data-heaptotal="0"><span class="token">t</span><span class="token">otal</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments.length;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">c</span><span class="token">overed</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments</span><span class="whitespace">
			</span><span class="token">.filter(</span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">util.hasResults)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21488"
data-heaptotal="0"><span class="token">function(count,</span><span class="token"> </span><span class="token">item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">c</span><span class="token">ount</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">g</span><span class="token">etValue(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">item)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> 0);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="4096"
	data-heapused="21248"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">covered:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21312"
data-heaptotal="0"><span class="token">c</span><span class="token">overed,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">total:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">t</span><span class="token">otal,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">percentage:</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">u</span><span class="token">til.percentage(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">covered,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">total)</span></span><span class="token">
</span></span><span class="whitespace">	};</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="57344"
	data-heapused="60344"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.expressions</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="FunctionExpression"
	data-rss="61440"
	data-heapused="59888"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(inputData,</span><span class="token"> </span><span class="token">key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">covered</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">total</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="whitespace">
		</span><span class="token">getValue</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="24048"
data-heaptotal="0"><span class="token">u</span><span class="token">til.calculateValue(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21216"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">instruments</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21104"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21216"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21216"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21376"
data-heaptotal="0"><span class="token">t</span><span class="token">otal</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments.length;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">c</span><span class="token">overed</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments</span><span class="whitespace">
			</span><span class="token">.filter(</span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21184"
data-heaptotal="0"><span class="token">util.hasResults)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21464"
data-heaptotal="0"><span class="token">function(count,</span><span class="token"> </span><span class="token">item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">c</span><span class="token">ount</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">g</span><span class="token">etValue(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">item)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> 0);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="4096"
	data-heapused="21248"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">covered:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21312"
data-heaptotal="0"><span class="token">c</span><span class="token">overed,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">total:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">t</span><span class="token">otal,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">percentage:</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="21176"
data-heaptotal="0"><span class="token">u</span><span class="token">til.percentage(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21184"
data-heaptotal="0"><span class="token">covered,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21184"
data-heaptotal="0"><span class="token">total)</span></span><span class="token">
</span></span><span class="whitespace">	};</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="AssignmentExpression"
	data-rss="57344"
	data-heapused="60088"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.functions</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth50"
	data-score="0.0006338253001141146"
	data-depth="50"
	data-type="FunctionExpression"
	data-rss="61440"
	data-heapused="59856"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(inputData,</span><span class="token"> </span><span class="token">key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">covered</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">total</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">0,</span><span class="whitespace">
		</span><span class="token">getValue</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="24392"
data-heaptotal="0"><span class="token">u</span><span class="token">til.calculateValue(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">instruments</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
			</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="21096"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">inputData,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21184"
data-heaptotal="0"><span class="token">key)</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">.filter(</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21408"
data-heaptotal="0"><span class="token">util.isOfType(</span><span
	class="item ArrayExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ArrayExpression"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">[</span><span class="whitespace">
						</span><span class="token">&quot;FunctionDeclaration&quot;,</span><span class="whitespace">
						</span><span class="token">&quot;FunctionExpression&quot;,</span><span class="whitespace">
					</span><span class="token">])</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21376"
data-heaptotal="0"><span class="token">t</span><span class="token">otal</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments.length;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">c</span><span class="token">overed</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">i</span><span class="token">nstruments</span><span class="whitespace">
			</span><span class="token">.filter(</span><span
	class="item MemberExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">util.hasResults)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="21456"
data-heaptotal="0"><span class="token">function(count,</span><span class="token"> </span><span class="token">item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">c</span><span class="token">ount</span><span class="token"> </span></span><span class="token">+ </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">g</span><span class="token">etValue(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">item)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> 0);</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="21248"
data-heaptotal="0"><span class="whitespace">{
		</span><span class="token">covered:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21344"
data-heaptotal="0"><span class="token">c</span><span class="token">overed,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">total:</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="21176"
data-heaptotal="0"><span class="token">t</span><span class="token">otal,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">percentage:</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="21208"
data-heaptotal="0"><span class="token">u</span><span class="token">til.percentage(</span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">covered,</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth13"
	data-score="1"
	data-depth="13"
	data-type="Identifier"
	data-rss="0"
	data-heapused="21176"
data-heaptotal="0"><span class="token">total)</span></span><span class="token">
</span></span><span class="whitespace">	};</span></span><span class="token">
};</span></span><span class="token"></span></span></pre></div><div id="eec4706ee2dbc9bb8da0c5853f3cf7ad" class="file"><header class="fileHeader"><h2>lib/stats/utils.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>16.00159</td><td>132</td><td>12.12%</td></tr><tr><th>conditions</th><td>11</td><td>58</td><td>18.96%</td></tr><tr><th>expressions</th><td>36.00319</td><td>210</td><td>17.14%</td></tr><tr><th>functions</th><td>36.00146</td><td>197</td><td>18.27%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">util</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="933888"
	data-heapused="-2121104"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ObjectExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="ObjectExpression"
	data-rss="0"
	data-heapused="69624"
data-heaptotal="0"><span class="token">{</span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="69664"
data-heaptotal="0"><span class="token">u</span><span class="token">til.sloc</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="69592"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(sourceInput)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">s</span><span class="token">ourceInput</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">S</span><span class="token">tring(</span></span><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">sourceInput</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span class="token">&quot;&quot;)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
		</span><span
	class="item MemberExpression
	unevaluated"><span class="token">s</span><span class="token">ourceInput.split(/\r?\n/ig)</span><span class="whitespace">
			</span><span class="token">.filter(</span><span
	class="item MemberExpression
	unevaluated"><span class="token">util.lineIsWhitespace)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ur</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
					</span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ur</span><span class="whitespace">	</span><span class="token">.split(/\/\//)</span><span class="whitespace">
						</span><span class="token">.shift()</span><span class="whitespace">
						</span><span class="token">.replace(/\/\*.*?\*\//g,</span><span class="token"> </span><span class="token">&quot;&quot;)</span><span class="whitespace">
						</span><span class="token">.trim();</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">cur.indexOf(&quot;/*&quot;))</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">a</span><span class="token">cc.inComment</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">true,</span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ur</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ur.split(/\/\*/).shift().trim();</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">cur.indexOf(&quot;*/&quot;))</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">a</span><span class="token">cc.inComment</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">false,</span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ur</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ur.split(&quot;*/&quot;).slice(1).join(&quot;*/&quot;).trim();</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item MemberExpression
	unevaluated"><span class="token">cur.length)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">a</span><span class="token">cc;</span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item MemberExpression
	unevaluated"><span class="token">acc.inComment)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item UpdateExpression
	unevaluated"><span class="token">a</span><span class="token">cc.count</span><span class="token"> </span><span class="token">++;</span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">a</span><span class="token">cc;</span></span><span class="token">
</span><span class="whitespace">
			</span><span class="token">},</span></span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="token">{</span><span class="token"> </span><span class="token">count:</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">inComment:</span><span class="token"> </span><span class="token">false})</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.count</span><span class="token">
</span></span><span class="whitespace">	</span><span class="token">);</span><span class="token">
</span><span class="token">}</span><span class="token">
</span></span><span class="token"></span></span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="69888"
data-heaptotal="0"><span class="token">u</span><span class="token">til.lineIsWhitespace</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="69624"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(line)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">l</span><span class="token">ine</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">S</span><span class="token">tring(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token">line</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span class="token">&quot;&quot;)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item CallExpression
	unevaluated"><span class="token">l</span><span class="token">ine.match(/^\s*$/);</span></span><span class="token"></span></span><span class="token">
}</span><span class="token">
</span></span><span class="token"></span></span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="4096"
	data-heapused="69896"
data-heaptotal="0"><span class="token">u</span><span class="token">til.shallowestCall</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="69624"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">shallowestCall(inputData)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item BinaryExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="BinaryExpression"
	data-rss="1024"
	data-heapused="23852"
data-heaptotal="0"><span class="token"></span><span
	class="item MemberExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="23290"
data-heaptotal="0"><span class="token">inputData.__shallowestCall</span><span class="token"> </span></span><span class="token">!</span><span class="token">==</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="0"
	data-heapused="23350"
data-heaptotal="0"><span class="token">u</span><span class="token">ndefined)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">return</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="23266.666666666664"
data-heaptotal="0"><span class="token">i</span><span class="token">nputData.__shallowestCall;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item AssignmentExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="23392"
data-heaptotal="0"><span class="token">i</span><span class="token">nputData.__shallowestCall</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="23424"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="0"
	data-heapused="23392"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.filter(</span><span
	class="item MemberExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="23744"
data-heaptotal="0"><span class="token">util.hasResults)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="23704"
data-heaptotal="0"><span class="token">function(prev,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">c</span><span class="token">ur.results.reduce(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(prev,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
					</span><span class="token">return</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token"></span><span
	class="item ConditionalExpression
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">c</span><span class="token">ur.depth</span><span class="token"> </span></span><span class="token">&lt; </span><span
	class="item Identifier
	unevaluated"><span class="token">p</span><span class="token">rev</span><span class="token"> </span></span><span class="token"></span></span><span class="token">? </span><span
	class="item MemberExpression
	unevaluated"><span class="token">c</span><span class="token">ur.depth</span><span class="token"> </span></span><span class="token">: </span><span
	class="item Identifier
	unevaluated"><span class="token">p</span><span class="token">rev;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">},</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">prev)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> </span><span
	class="item Identifier
	evaluated depth15"
	data-score="1"
	data-depth="15"
	data-type="Identifier"
	data-rss="0"
	data-heapused="23464"
data-heaptotal="0"><span class="token">Infinity)</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="69888"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getInstruments</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="69592"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">getInstruments(inputData,</span><span class="token"> </span><span class="token">scope)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
		</span><span
	class="item CallExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="CallExpression"
	data-rss="1024"
	data-heapused="23424"
data-heaptotal="0"><span class="token">O</span><span class="token">bject.keys(</span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="1024"
	data-heapused="22734"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.filter(</span><span
	class="item FunctionExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="22860"
data-heaptotal="0"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="23693.333333333332"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="24306.666666666664"
data-heaptotal="0"><span class="token">k</span><span class="token">ey.indexOf(</span><span
	class="item BinaryExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="23696"
data-heaptotal="0"><span class="token">&quot;id_&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span class="token">(</span><span
	class="item LogicalExpression
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="LogicalExpression"
	data-rss="1365.3333333333333"
	data-heapused="23696"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth16"
	data-score="1"
	data-depth="16"
	data-type="Identifier"
	data-rss="121514.66666666666"
	data-heapused="-3612349.3333333335"
data-heaptotal="0"><span class="token">scope</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span class="token">&quot;&quot;)</span></span><span class="token">)</span></span><span class="token"> </span></span><span class="token">===</span><span class="token"> </span><span class="token">0;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.map(</span><span
	class="item FunctionExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="FunctionExpression"
	data-rss="1024"
	data-heapused="23030"
data-heaptotal="0"><span class="token">function(key)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">i</span><span class="token">nputData[key].key</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">k</span><span class="token">ey;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">return</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">nputData[key];</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">)</span></span><span class="token">;</span><span class="token">
</span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="4096"
	data-heapused="76456"
data-heaptotal="0"><span class="token">u</span><span class="token">til.isOfType</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="32768"
	data-heapused="69912"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">isOfType(types)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="23356"
data-heaptotal="0"><span class="token">t</span><span class="token">ypes</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="2048"
	data-heapused="22220"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="22220"
data-heaptotal="0"><span class="token"></span><span
	class="item ConditionalExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="ConditionalExpression"
	data-rss="0"
	data-heapused="22204"
data-heaptotal="0"><span class="token">t</span><span class="token">ypes</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="0"
	data-heapused="22220"
data-heaptotal="0"><span class="token">A</span><span class="token">rray</span><span class="token"> </span></span><span class="token"></span></span><span class="token">? </span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="2048"
	data-heapused="22312"
data-heaptotal="0"><span class="token">t</span><span class="token">ypes</span><span class="token"> </span></span><span class="token">: </span><span
	class="item ArrayExpression
	unevaluated"><span class="token">[</span><span
	class="item Identifier
	unevaluated"><span class="token">t</span><span class="token">ypes]</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="22220"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">t</span><span class="token">ypes.reduce(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token">a</span><span class="token">cc</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">i</span><span class="token">tem.stack.indexOf(</span><span
	class="item Identifier
	unevaluated"><span class="token">cur)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">},</span></span><span class="token"> false);</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">};</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="65536"
	data-heapused="69992"
data-heaptotal="0"><span class="token">u</span><span class="token">til.hasResults</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="69632"
	data-heapused="71256"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">hasResults(item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">item</span><span class="token"> </span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">tem.results</span><span class="token"> </span></span><span class="token"></span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">tem.results.length)</span></span><span class="token"></span></span><span class="token">;</span><span class="token">
</span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="69632"
	data-heapused="69784"
data-heaptotal="0"><span class="token">u</span><span class="token">til.calculateValue</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="69632"
	data-heapused="69624"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">calculateValue(inputData)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">shallowMark</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="CallExpression"
	data-rss="1024"
	data-heapused="22722"
data-heaptotal="0"><span class="token">u</span><span class="token">til.shallowestCall(</span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="0"
	data-heapused="22178"
data-heaptotal="0"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">graceThreshold</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">5,</span><span class="whitespace">
		</span><span class="token">inverseDampingFactor</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span class="token">1.25;</span><span class="whitespace">

	</span><span class="token">return</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="FunctionExpression"
	data-rss="1024"
	data-heapused="22402"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">M</span><span class="token">ath.max.apply(</span><span
	class="item Identifier
	unevaluated"><span class="token">Math,</span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item CallExpression
	unevaluated"><span class="token">i</span><span class="token">tem.results.map(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(result)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
					</span><span class="token">//</span><span class="token"> </span><span class="token">Calculate</span><span class="token"> </span><span class="token">inverse</span><span class="token"> </span><span class="token">logarithm</span><span class="whitespace">
					</span><span class="token">var</span><span class="token"> </span><span class="token">relativeDepth</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token">(</span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.depth</span><span class="token"> </span></span><span class="token">- </span><span
	class="item Identifier
	unevaluated"><span class="token">s</span><span class="token">hallowMark)</span></span><span class="token"></span></span><span class="token"> +</span><span class="token"> </span><span class="token">1;</span></span><span class="token">
</span><span class="whitespace">						</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">r</span><span class="token">elativeDepth</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">r</span><span class="token">elativeDepth</span><span class="token"> </span></span><span class="token">- </span><span
	class="item Identifier
	unevaluated"><span class="token">g</span><span class="token">raceThreshold;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">						</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">r</span><span class="token">elativeDepth</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item ConditionalExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">r</span><span class="token">elativeDepth</span><span class="token"> </span></span><span class="token">&lt;</span><span class="token">=</span><span class="token"> </span><span class="token">0</span><span class="token"> </span></span><span class="token">? </span><span class="token">1</span><span class="token"> </span><span class="token">:</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">r</span><span class="token">elativeDepth;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
					</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token">1 </span><span class="token">/</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
						</span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">M</span><span class="token">ath.pow(</span><span
	class="item Identifier
	unevaluated"><span class="token">inverseDampingFactor,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">relativeDepth)</span></span><span class="token"> </span></span><span class="token">/</span><span class="whitespace">
							</span><span
	class="item Identifier
	unevaluated"><span class="token">i</span><span class="token">nverseDampingFactor)</span></span><span class="token"></span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">})</span></span><span class="token">)</span></span><span class="token">)</span></span><span class="token">;</span><span class="whitespace">
	</span><span class="token">}</span><span class="token">
</span></span><span class="token">}
</span></span><span class="token"></span></span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="69632"
	data-heapused="70032"
data-heaptotal="0"><span class="token">u</span><span class="token">til.getMinimumDepth</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="69632"
	data-heapused="69592"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">getMinimumDepth(item)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">M</span><span class="token">ath.min.apply(</span><span
	class="item Identifier
	unevaluated"><span class="token">Math,</span></span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">item.results.map(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(result)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">return</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.depth;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="73728"
	data-heapused="69784"
data-heaptotal="0"><span class="token">u</span><span class="token">til.percentage</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="73728"
	data-heapused="69592"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">percentage(a,</span><span class="token"> </span><span class="token">b)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="1024"
	data-heapused="22578"
data-heaptotal="0"><span class="token">(</span><span
	class="item UnaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="UnaryExpression"
	data-rss="0"
	data-heapused="22174"
data-heaptotal="0"><span class="token"></span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="22164"
data-heaptotal="0"><span class="token">+</span><span class="token">(</span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="0"
	data-heapused="22166"
data-heaptotal="0"><span class="token">(</span><span
	class="item BinaryExpression
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="BinaryExpression"
	data-rss="2048"
	data-heapused="22268"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="0"
	data-heapused="22306"
data-heaptotal="0"><span class="token">a/</span></span><span class="token"></span><span
	class="item Identifier
	evaluated depth14"
	data-score="1"
	data-depth="14"
	data-type="Identifier"
	data-rss="1024"
	data-heapused="22174"
data-heaptotal="0"><span class="token">b)</span></span><span class="token"></span></span><span class="token">*10000)</span></span><span class="token">|</span></span><span class="token">0)</span></span><span class="token"> /</span><span class="token"> </span><span class="token">100;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="69632"
	data-heapused="69784"
data-heaptotal="0"><span class="token">u</span><span class="token">til.generateIterationMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="65536"
	data-heapused="69624"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">generateIterationMap(inputData)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span class="token">(</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	unevaluated"><span class="token">inputData)</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">a</span><span class="token">cc.concat(</span><span
	class="item CallExpression
	unevaluated"><span class="token">cur.results.map(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(result)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
					</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="whitespace">{
						</span><span class="token">depth:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.depth,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">time:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.time,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">timeOffset:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.timeOffset,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">memoryUsage:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.memoryUsage,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">invocation:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.invocation,</span></span><span class="token">
</span><span class="whitespace">						</span><span class="token">key:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">c</span><span class="token">ur.key</span><span class="token">
</span></span><span class="whitespace">					</span><span class="token">};</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">})</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> </span><span
	class="item ArrayExpression
	unevaluated"><span class="token">[])</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.sort(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(a,</span><span class="token"> </span><span class="token">b)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">a</span><span class="token">.invocation</span><span class="token"> </span></span><span class="token">- </span><span
	class="item MemberExpression
	unevaluated"><span class="token">b</span><span class="token">.invocation;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">
</span></span><span class="whitespace">	);</span><span class="token">
</span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span
	class="item AssignmentExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="AssignmentExpression"
	data-rss="69632"
	data-heapused="70160"
data-heaptotal="0"><span class="token">u</span><span class="token">til.generateMemoryStats</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth57"
	data-score="0.00013292279957849158"
	data-depth="57"
	data-type="FunctionExpression"
	data-rss="69632"
	data-heapused="69592"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">generateMemoryStats(inputData)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
	</span><span class="token">var</span><span class="token"> </span><span class="token">instruments</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">u</span><span class="token">til.getInstruments(</span><span
	class="item Identifier
	unevaluated"><span class="token">inputData)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">iterationMap</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">u</span><span class="token">til.generateIterationMap(</span><span
	class="item Identifier
	unevaluated"><span class="token">inputData)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">i</span><span class="token">nstruments.forEach(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(instrument)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

		</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">i</span><span class="token">nstrument.avgMemChanges</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">i</span><span class="token">nstrument.results.map(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(result)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">var</span><span class="token"> </span><span class="token">prev</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item ConditionalExpression
	unevaluated"><span class="token">r</span><span class="token">esult.invocation</span><span class="token"> </span></span><span class="token">&gt; </span><span class="token">0</span><span class="token"> </span></span><span class="token">? </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.invocation</span><span class="token"> </span></span><span class="token">- </span><span class="token">1</span><span class="token"> </span></span><span class="token">: </span><span class="token">0;</span></span><span class="token">
</span><span class="whitespace">					</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">p</span><span class="token">rev</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">i</span><span class="token">terationMap[prev].memoryUsage;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
				</span><span class="token">return</span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="whitespace">{
					</span><span class="token">rss:</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.memoryUsage.rss</span><span class="token"> </span></span><span class="token">- </span><span
	class="item MemberExpression
	unevaluated"><span class="token">p</span><span class="token">rev.rss,</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">heapTotal:</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">r</span><span class="token">esult.memoryUsage.heapTotal</span><span class="token"> </span></span><span class="token">- </span><span
	class="item MemberExpression
	unevaluated"><span class="token">p</span><span class="token">rev.heapTotal,</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">					</span><span class="token">heapUsed:</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">r</span><span class="token">esult.memoryUsage.heapUsed</span><span class="token"> </span></span><span class="token">- </span><span
	class="item MemberExpression
	unevaluated"><span class="token">p</span><span class="token">rev.heapUsed,</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">};</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">})</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">.reduce(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(acc,</span><span class="token"> </span><span class="token">cur,</span><span class="token"> </span><span class="token">idx,</span><span class="token"> </span><span class="token">array)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span class="token">var</span><span class="token"> </span><span class="token">factor</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token">1 </span><span class="token">/</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token">a</span><span class="token">rray.length;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">a</span><span class="token">cc.rss</span><span class="whitespace">			</span><span class="token">+=</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">c</span><span class="token">ur.rss</span><span class="token"> </span></span><span class="token">* </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">actor;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">a</span><span class="token">cc.heapTotal</span><span class="whitespace">	</span><span class="token">+=</span><span class="token"> </span><span
	class="item MemberExpression
	unevaluated"><span class="token"></span><span
	class="item BinaryExpression
	unevaluated"><span class="token">c</span><span class="token">ur.heapTotal</span><span class="token"> </span></span><span class="token">* </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">actor;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">a</span><span class="token">cc.heapUsed</span><span class="whitespace">	</span><span class="token">+=</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item MemberExpression
	unevaluated"><span class="token">c</span><span class="token">ur.heapUsed</span><span class="token"> </span></span><span class="token">* </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">actor;</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">a</span><span class="token">cc;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">},</span></span><span class="token"> </span><span
	class="item ObjectExpression
	unevaluated"><span class="token">{</span><span class="token"> </span><span class="token">rss:</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">heapTotal:</span><span class="token"> </span><span class="token">0,</span><span class="token"> </span><span class="token">heapUsed:</span><span class="token"> </span><span class="token">0</span><span class="token"> </span><span class="token">})</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">
</span></span><span class="token">};</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">



</span></pre></div><div id="bdd0ef4c9ff8ae316997d80042bcc53d" class="file"><header class="fileHeader"><h2>lib/process.js</h2><table class="statRundown"><thead><tr><th>Kind</th><th>Covered</th><th>Total</th><th>Percentage</th></tr></thead><tbody><tr><th>lines</th><td>0.11529</td><td>71</td><td>0.16%</td></tr><tr><th>conditions</th><td>0</td><td>76</td><td>0%</td></tr><tr><th>expressions</th><td>0.23058</td><td>146</td><td>0.15%</td></tr><tr><th>functions</th><td>0.04323</td><td>133</td><td>0.03%</td></tr></tbody></table></header><pre><span class="token">&quot;use</span><span class="token"> </span><span class="token">strict&quot;;</span><span class="whitespace">

</span><span class="token">var</span><span class="token"> </span><span class="token">fs</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="0"
	data-heapused="44336"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="65536"
	data-heapused="392896"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;fs&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">path</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="44336"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="44528"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;path&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">mkdirp</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="0"
	data-heapused="44392"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="0"
	data-heapused="44496"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;mkdirp&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">instrument</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="4096"
	data-heapused="44368"
data-heaptotal="0"><span class="token"></span><span
	class="item CallExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="CallExpression"
	data-rss="4096"
	data-heapused="55176"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;./instrumentor&quot;),</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">EventEmitter</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item MemberExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="MemberExpression"
	data-rss="0"
	data-heapused="50560"
data-heaptotal="0"><span class="token"></span><span
	class="item Identifier
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="Identifier"
	data-rss="0"
	data-heapused="44368"
data-heaptotal="0"><span class="token">r</span><span class="token">equire(</span></span><span class="token">&quot;events&quot;).EventEmitter;</span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Instrument</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">file</span><span class="token"> </span><span class="token">or</span><span class="token"> </span><span class="token">folder</span><span class="token"> </span><span class="token">using</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">SteamShovel</span><span class="token"> </span><span class="token">instrumentor.</span><span class="whitespace">

	</span><span class="token">inFile</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">location</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">input</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">outFile</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">destination</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">emitter</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">optional</span><span class="token"> </span><span class="token">pre-defined</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">use</span><span class="token"> </span><span class="token">when</span><span class="whitespace">
						</span><span class="token">emitting</span><span class="token"> </span><span class="token">status</span><span class="token"> </span><span class="token">events.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="whitespace">

		</span><span class="token">emitter</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">information</span><span class="token"> </span><span class="token">about</span><span class="token"> </span><span class="token">the</span><span class="whitespace">
						</span><span class="token">instrumentation</span><span class="token"> </span><span class="token">progress</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">dispatched.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">instrumentor(&quot;myfile.js&quot;,</span><span class="token"> </span><span class="token">&quot;myfile-instrumented.js&quot;);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="44520"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="44336"
data-heaptotal="0"><span class="token">f</span><span class="token">unction(inFile,</span><span class="token"> </span><span class="token">outFile,</span><span class="token"> </span><span class="token">emitter)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item Identifier
	unevaluated"><span class="token">inFile)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">throw</span><span class="token"> </span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">rror(</span></span><span class="token">&quot;You</span><span class="token"> </span><span class="token">must</span><span class="token"> </span><span class="token">specify</span><span class="token"> </span><span class="token">an</span><span class="token"> </span><span class="token">input</span><span class="token"> </span><span class="token">file/directory.&quot;);</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item Identifier
	unevaluated"><span class="token">outFile)</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">throw</span><span class="token"> </span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">rror(</span></span><span class="token">&quot;You</span><span class="token"> </span><span class="token">must</span><span class="token"> </span><span class="token">specify</span><span class="token"> </span><span class="token">an</span><span class="token"> </span><span class="token">output</span><span class="token"> </span><span class="token">file/directory.&quot;);</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item ConditionalExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token">? </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="whitespace">:
			</span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter(</span></span><span class="token">);</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.stat(</span><span
	class="item Identifier
	unevaluated"><span class="token">inFile,</span></span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(err,</span><span class="token"> </span><span class="token">stats)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	unevaluated"><span class="token">err)</span></span><span class="token"> return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;error&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">rr)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item CallExpression
	unevaluated"><span class="token">stats.isDirectory())</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">m</span><span class="token">odule.exports.processDir(</span><span
	class="item Identifier
	unevaluated"><span class="token">inFile,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">outFile,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">emitter)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">m</span><span class="token">odule.exports.processFile(</span><span
	class="item Identifier
	unevaluated"><span class="token">inFile,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">outFile,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">emitter)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Recursively</span><span class="token"> </span><span class="token">instrument</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">folder/directory</span><span class="token"> </span><span class="token">using</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">SteamShovel</span><span class="whitespace">
	</span><span class="token">instrumentor.</span><span class="whitespace">

	</span><span class="token">inDir</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">location</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">input</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">outDir</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">destination</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">emitter</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">optional</span><span class="token"> </span><span class="token">pre-defined</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">use</span><span class="token"> </span><span class="token">when</span><span class="whitespace">
						</span><span class="token">emitting</span><span class="token"> </span><span class="token">status</span><span class="token"> </span><span class="token">events.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="whitespace">

		</span><span class="token">emitter</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">information</span><span class="token"> </span><span class="token">about</span><span class="token"> </span><span class="token">the</span><span class="whitespace">
						</span><span class="token">instrumentation</span><span class="token"> </span><span class="token">progress</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">dispatched.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">instrumentor(&quot;./lib&quot;,</span><span class="token"> </span><span class="token">&quot;./lib-cov&quot;);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="44432"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.processDir</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="44344"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">processDir(dir,</span><span class="token"> </span><span class="token">out,</span><span class="token"> </span><span class="token">emitter)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item ConditionalExpression
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token">? </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="whitespace">:
			</span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter(</span></span><span class="token">);</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;processdir&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">d</span><span class="token">ir,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">out)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">try</span><span class="token"> </span><span class="token">{</span><span class="token"> </span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.statSync(</span><span
	class="item Identifier
	unevaluated"><span class="token">out)</span></span><span class="token"> </span></span><span class="token"></span></span><span class="token">}</span><span class="whitespace">
	</span><span class="token">catch</span><span class="token"> </span><span class="token">(e)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;mkdir&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">o</span><span class="token">ut)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">		</span><span
	class="item CallExpression
	unevaluated"><span class="token">m</span><span class="token">kdirp.mkdirp(</span><span
	class="item Identifier
	unevaluated"><span class="token">out)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">}</span><span class="whitespace">

	</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.readdir(</span><span
	class="item Identifier
	unevaluated"><span class="token">dir,</span></span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(err,</span><span class="token"> </span><span class="token">dirContents)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	unevaluated"><span class="token">err)</span></span><span class="token"> return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;error&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">rr)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;readdir&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">d</span><span class="token">ir)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">d</span><span class="token">irContents.forEach(</span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(file)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

			</span><span class="token">var</span><span class="token"> </span><span class="token">filePath</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">p</span><span class="token">ath.join(</span><span
	class="item Identifier
	unevaluated"><span class="token">dir,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">file)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">				</span><span class="token">outPath</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">p</span><span class="token">ath.join(</span><span
	class="item Identifier
	unevaluated"><span class="token">out,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">file)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">m</span><span class="token">odule.exports(</span><span
	class="item Identifier
	unevaluated"><span class="token">filePath,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">outPath,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">emitter)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter;</span></span><span class="token">
};</span></span><span class="token"></span></span><span class="token">
</span><span class="token">
</span><span class="token">/*</span><span class="whitespace">
	</span><span class="token">Public:</span><span class="token"> </span><span class="token">Instrument</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">single</span><span class="token"> </span><span class="token">file</span><span class="token"> </span><span class="token">using</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">SteamShovel</span><span class="token"> </span><span class="token">instrumentor.</span><span class="whitespace">

	</span><span class="token">This</span><span class="token"> </span><span class="token">function</span><span class="token"> </span><span class="token">will</span><span class="token"> </span><span class="token">ignore</span><span class="token"> </span><span class="token">files</span><span class="token"> </span><span class="token">that</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumentor</span><span class="token"> </span><span class="token">cannot</span><span class="token"> </span><span class="token">parse,</span><span class="token"> </span><span class="token">files</span><span class="whitespace">
	</span><span class="token">which</span><span class="token"> </span><span class="token">do</span><span class="token"> </span><span class="token">not</span><span class="token"> </span><span class="token">have</span><span class="token"> </span><span class="token">a</span><span class="token"> </span><span class="token">`.js`</span><span class="token"> </span><span class="token">file</span><span class="token"> </span><span class="token">extension,</span><span class="token"> </span><span class="token">and</span><span class="token"> </span><span class="token">files</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">contain</span><span class="whitespace">

	</span><span class="token">inFile</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">location</span><span class="token"> </span><span class="token">of</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">input</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">outFile</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">The</span><span class="token"> </span><span class="token">filesystem</span><span class="token"> </span><span class="token">destination</span><span class="token"> </span><span class="token">for</span><span class="token"> </span><span class="token">the</span><span class="token"> </span><span class="token">instrumented</span><span class="token"> </span><span class="token">resource</span><span class="whitespace">
	</span><span class="token">emitter</span><span class="whitespace">			</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">optional</span><span class="token"> </span><span class="token">pre-defined</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">to</span><span class="token"> </span><span class="token">use</span><span class="token"> </span><span class="token">when</span><span class="whitespace">
						</span><span class="token">emitting</span><span class="token"> </span><span class="token">status</span><span class="token"> </span><span class="token">events.</span><span class="whitespace">

	</span><span class="token">Returns</span><span class="whitespace">

		</span><span class="token">emitter</span><span class="whitespace">		</span><span class="token">-</span><span class="whitespace">	</span><span class="token">An</span><span class="token"> </span><span class="token">event</span><span class="token"> </span><span class="token">emitter</span><span class="token"> </span><span class="token">from</span><span class="token"> </span><span class="token">which</span><span class="token"> </span><span class="token">information</span><span class="token"> </span><span class="token">about</span><span class="token"> </span><span class="token">the</span><span class="whitespace">
						</span><span class="token">instrumentation</span><span class="token"> </span><span class="token">progress</span><span class="token"> </span><span class="token">is</span><span class="token"> </span><span class="token">dispatched.</span><span class="whitespace">

	</span><span class="token">Examples</span><span class="whitespace">

		</span><span class="token">instrumentor(&quot;./lib/myfile.js&quot;,</span><span class="token"> </span><span class="token">&quot;./lib-cov/myfile.js&quot;);</span><span class="whitespace">

</span><span class="token">*/</span><span class="whitespace">

</span><span
	class="item AssignmentExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="AssignmentExpression"
	data-rss="0"
	data-heapused="45240"
data-heaptotal="0"><span class="token">m</span><span class="token">odule.exports.processFile</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item FunctionExpression
	evaluated depth36"
	data-score="0.014411518807585587"
	data-depth="36"
	data-type="FunctionExpression"
	data-rss="0"
	data-heapused="44336"
data-heaptotal="0"><span class="token">f</span><span class="token">unction</span><span class="token"> </span><span class="token">processFile(file,</span><span class="token"> </span><span class="token">out,</span><span class="token"> </span><span class="token">emitter)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">

	</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span><span class="token">=</span><span class="whitespace">
		</span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item ConditionalExpression
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">&amp;</span><span class="token">&amp;</span><span class="token"> </span><span
	class="item BinaryExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="token">i</span><span class="token">nstanceof</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter</span><span class="token"> </span></span><span class="token"></span></span><span class="token"></span></span><span class="token">? </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter</span><span class="token"> </span></span><span class="whitespace">:
			</span><span
	class="item NewExpression
	unevaluated"><span class="token">n</span><span class="token">ew</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">E</span><span class="token">ventEmitter(</span></span><span class="token">);</span></span><span class="token"></span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">!</span><span
	class="item CallExpression
	unevaluated"><span class="token">file.match(/\.js$/i))</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">return</span><span class="whitespace">	</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;nojs&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">ile)</span></span><span class="token">,</span></span><span class="token">
</span><span class="whitespace">				</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.createReadStream(</span><span
	class="item Identifier
	unevaluated"><span class="token">file)</span></span><span class="token">.pipe(</span><span
	class="item CallExpression
	unevaluated"><span class="token">fs.createWriteStream(</span><span
	class="item Identifier
	unevaluated"><span class="token">out)</span></span><span class="token">)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.readFile(</span><span
	class="item Identifier
	unevaluated"><span class="token">file,</span></span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(err,</span><span class="token"> </span><span class="token">data)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	unevaluated"><span class="token">err)</span></span><span class="token"> return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;error&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">rr)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;readfile&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">ile)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">var</span><span class="token"> </span><span class="token">code;</span><span class="whitespace">
			</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">d</span><span class="token">ata</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">S</span><span class="token">tring(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">data)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item UnaryExpression
	unevaluated"><span class="token">~</span><span
	class="item CallExpression
	unevaluated"><span class="token">data.indexOf(</span><span
	class="item BinaryExpression
	unevaluated"><span class="token">&quot;steamShovel:&quot;</span><span class="token"> </span><span class="token">+</span><span class="token"> </span><span class="token">&quot;ignore&quot;)</span></span><span class="token">)</span></span><span class="token"></span></span><span class="token"> {</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;ignore&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">ile)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
		</span><span class="token">}</span><span class="token"> </span><span class="token">else</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">try</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span
	class="item AssignmentExpression
	unevaluated"><span class="token">c</span><span class="token">ode</span><span class="token"> </span><span class="token">=</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token"></span><span
	class="item CallExpression
	unevaluated"><span class="token">i</span><span class="token">nstrument(</span></span><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">data,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">file)</span></span><span class="token">;</span></span><span class="token"></span></span><span class="token">
</span><span class="whitespace">
			</span><span class="token">}</span><span class="token"> </span><span class="token">catch</span><span class="token"> </span><span class="token">(err)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
				</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;instrumenterror&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">rr,</span></span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">file)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">			</span><span class="token">}</span><span class="whitespace">
		</span><span class="token">}</span><span class="whitespace">

		</span><span
	class="item CallExpression
	unevaluated"><span class="token">f</span><span class="token">s.writeFile(</span><span
	class="item Identifier
	unevaluated"><span class="token">out,</span></span><span class="token"> </span><span
	class="item LogicalExpression
	unevaluated"><span class="token"></span><span
	class="item Identifier
	unevaluated"><span class="token">code</span><span class="token"> </span></span><span class="token">|</span><span class="token">|</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">d</span><span class="token">ata,</span></span><span class="token"></span></span><span class="token"> </span><span
	class="item FunctionExpression
	unevaluated"><span class="token">function(err)</span><span class="token"> </span><span class="token">{</span><span class="whitespace">
			</span><span class="token">if</span><span class="token"> </span><span class="token">(</span><span
	class="item Identifier
	unevaluated"><span class="token">err)</span></span><span class="token"> return</span><span class="token"> </span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;error&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">rr)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
			</span><span
	class="item CallExpression
	unevaluated"><span class="token">e</span><span class="token">mitter.emit(&quot;writefile&quot;,</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">f</span><span class="token">ile)</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">		</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">	</span><span class="token">})</span></span><span class="token">;</span></span><span class="token">
</span><span class="whitespace">
	</span><span class="token">return</span><span class="token"> </span><span
	class="item Identifier
	unevaluated"><span class="token">e</span><span class="token">mitter;</span></span><span class="token">
};</span></span><span class="token"></span></span></pre></div></main></div><script>(function() {
	window.addEventListener("load", function() {

		var scoreClasses = [
			"perfect",
			"great",
			"good",
			"average",
			"poor",
			"worse",
			"abysmal",
			"you-should-be-ashamed"
		].reverse();

		var key = document.createElement("div");

		scoreClasses.concat(["unevaluated"]).forEach(function(className) {
			var keyItem = document.createElement("span");
				keyItem.classList.add("key-item");
				keyItem.classList.add(className);

			keyItem.appendChild(document.createTextNode(
				className[0].toUpperCase() +
				className.substr(1)
			));

			key.appendChild(keyItem);
		});

		document.querySelector("#guide")
			.appendChild(key);

		[].slice.call(document.querySelectorAll(".evaluated"))
			.forEach(function(item) {
				var score = (item.dataset.score) * (scoreClasses.length-1) | 0,
					scoreClass = scoreClasses[score];

				item.classList.add(scoreClass);

				item.title = (
					scoreClass[0].toUpperCase() +
					scoreClass.substr(1) +
					" code coverage.\n" +
					"[" + item.dataset.type + "]\n" +
					"Depth: " + item.dataset.depth + "\n" +
					"Score: " + item.dataset.score + "\n" +
					"Mem|RSS: "+ item.dataset.rss + "\n" +
					"Mem|HeapTotal: "+ item.dataset.heaptotal + "\n" +
					"Mem|HeapUsed: "+ item.dataset.heapused
				);
			});

		[].slice.call(document.querySelectorAll(".evaluated"))
			.sort(function(a, b) {
				return	parseFloat(a.dataset.heapused) -
						parseFloat(b.dataset.heapused);
			})
			.forEach(function(item, index, array) {
				var perc = (array.length - index) / array.length;
					perc = (perc * 10000) / 10000;

				[].slice.call(item.childNodes).forEach(function(item) {
					if (!~item.className.indexOf("token")) return;

					item.style.borderBottom = "solid rgba(0,0,0," + perc + ") 5px";
				});
			});

		[].slice.call(document.querySelectorAll(".unevaluated"))
			.forEach(function(item) {
				item.title = "WARNING: This code was never evaluated.";
			});

		[].slice.call(document.querySelectorAll("li.file"))
			.forEach(function(item) {
				var score = (
						(item.dataset.coverage / 100) *
						(scoreClasses.length - 1) | 0),
					scoreClass = scoreClasses[score];

				item.classList.add(scoreClass);
			});

	}, false);
})();</script></body></html>